<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Laura Botzet" />


<title></title>

<script src="library/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="library/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="library/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="library/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="library/bootstrap-3.3.5/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="library/highlight/default.css"
      type="text/css" />
<script src="library/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="library/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">




</div>


<div id="data-import" class="section level1 tabset">
<h1>Data import</h1>
<div id="load-data" class="section level2">
<h2>Load data</h2>
<pre class="r"><code>library(haven)
library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>b1_ks0 = read_dta(&quot;data/hh14_all_dta/b1_ks0.dta&quot;)
food = b1_ks0 %&gt;% select(hhid14_9, ks02a, ks03a)
b1_ksr2 =  read_dta(&quot;data/hh14_all_dta/b1_ksr2.dta&quot;)
all_data = food %&gt;% full_join(b1_ksr2)</code></pre>
<pre><code>## Joining, by = &quot;hhid14_9&quot;</code></pre>
</div>
<div id="glimpse-data" class="section level2">
<h2>Glimpse data</h2>
<pre class="r"><code>str(all_data)</code></pre>
<pre><code>## Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    15144 obs. of  34 variables:
##  $ hhid14_9 : atomic  001060000 001060004 001080000 001080003 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;2014 Household ID (9-digit)&quot;
##  $ ks02a    : atomic  15 7.5 7.5 3 22.5 0 15 30 90 30 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;During the past week, what was the total expenditure to purchase [...]?&quot;
##  $ ks03a    : atomic  0 0 0 0 0 0 0 0 0 0 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;How many kg of rice that were consumed by this household that were self-produced&quot;
##  $ ksr24a   : atomic  A C C A ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;During the past year, has this household ever bought rice/received money  from [&quot;
##  $ ksr25b   :Class &#39;labelled&#39;  atomic [1:15144] 4 NA NA 4 1 NA NA NA 3 2 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;How many times in the past year did the household buy rice/receive money from [.&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int 99
##   .. .. ..- attr(*, &quot;names&quot;)= chr &quot;99:Missing&quot;
##  $ ksr26bx  : atomic  A   A ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;What was the total quantity rice bought by this household from the [...] program&quot;
##  $ ksr26b_kg: atomic  120 NA NA 120 30 NA NA NA 45 48 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;What was the total quantity rice bought by this household from the [...] program&quot;
##  $ ksr27bx  : atomic  A   Y ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;What was the total quantity rice bought by this household from the [...] program&quot;
##  $ ksr27b_kg: atomic  0 NA NA NA 0 NA NA NA 0 0 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;What was the total quantity rice bought by this household from the [...] program&quot;
##  $ ksr28x   :Class &#39;labelled&#39;  atomic [1:15144] 1 NA NA 1 1 NA NA NA 1 1 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;What was the last time you obtained/bought RASKIN rice (month/year)?&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:3] 1 6 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;1:Month/Year&quot; &quot;6:Don&#39;t buy Raskin -&gt; KSR34&quot; &quot;9:Missing&quot;
##  $ ksr28m   :Class &#39;labelled&#39;  atomic [1:15144] 11 NA NA 10 10 NA NA NA 10 8 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;What was the last time you obtained/bought RASKIN rice (month)?&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:14] 1 2 3 4 5 6 7 8 9 10 ...
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:14] &quot;1:January&quot; &quot;2:February&quot; &quot;3:March&quot; &quot;4:April&quot; ...
##  $ ksr28y   :Class &#39;labelled&#39;  atomic [1:15144] 2014 NA NA 2014 2014 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;What was the last time you obtained/bought RASKIN rice (year)?&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:2] 9998 9999
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;9998:Don&#39;t know&quot; &quot;9999:Missing&quot;
##  $ ksr29x   :Class &#39;labelled&#39;  atomic [1:15144] 1 NA NA 1 1 NA NA NA 1 1 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;The last time you bought rice from the [...] program, what was the quantity of r&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:3] 1 8 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;1:Yes&quot; &quot;8:Don&#39;t know&quot; &quot;9:Missing&quot;
##  $ ksr29    : atomic  30 NA NA 15 30 NA NA NA 15 30 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;The last time you bought rice from the [...] program, what was the quantity of r&quot;
##  $ ksr30x   :Class &#39;labelled&#39;  atomic [1:15144] 1 NA NA 1 1 NA NA NA 1 1 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;The last time you obtained/bought rice from the [...] program hat was the maximu&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:4] 1 6 8 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;1:Yes&quot; &quot;6:No maximum&quot; &quot;8:Don&#39;t know&quot; &quot;9:Missing&quot;
##  $ ksr30    : atomic  30 NA NA 15 30 NA NA NA 15 30 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;The last time you obtained/bought rice from the [...] program hat was the maximu&quot;
##  $ ksr31x   :Class &#39;labelled&#39;  atomic [1:15144] 1 NA NA 1 1 NA NA NA 1 1 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;The last time you bought rice from the [...] program, what was the total amount &quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:3] 1 8 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;1:Yes&quot; &quot;8:Don&#39;t know&quot; &quot;9:Missing&quot;
##  $ ksr32x   :Class &#39;labelled&#39;  atomic [1:15144] 1 NA NA 1 1 NA NA NA 1 1 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;What would the same amount have cost in regular market at that time?&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:3] 1 8 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;1:Yes&quot; &quot;8:Don&#39;t know&quot; &quot;9:Missing&quot;
##  $ ksr29ax  :Class &#39;labelled&#39;  atomic [1:15144] 6 NA NA 6 6 NA NA NA 6 6 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;The last time you receive money from the [...] program, how much did you receive&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:4] 1 6 8 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;1:The amount of rupiah&quot; &quot;6:Don&#39;t accept money from raskin -&gt; KSR34&quot; &quot;8:Don&#39;t know&quot; &quot;9:Missing&quot;
##  $ ksr29bx  :Class &#39;labelled&#39;  atomic [1:15144] NA NA NA NA NA NA NA NA NA NA ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;How much [...] rice were you supposed to receive?&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:3] 1 8 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;1:The amount of kilograms&quot; &quot;8:Don&#39;t know&quot; &quot;9:Missing&quot;
##  $ ksr29b   : atomic  NA NA NA NA NA NA NA NA NA NA ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;How much [...] rice were you supposed to receive?&quot;
##  $ ksr34x   :Class &#39;labelled&#39;  atomic [1:15144] 1 NA NA 1 1 NA NA NA 1 1 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;What  was price per kg of rice in the regular market at that time?&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:3] 1 8 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;1:Yes&quot; &quot;8:Don&#39;t know&quot; &quot;9:Missing&quot;
##  $ ksr35    :Class &#39;labelled&#39;  atomic [1:15144] 2 NA NA 2 2 NA NA NA 2 3 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;What was the  quality of rice purchased  from the [...] program?&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:5] 1 2 3 6 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;1:High&quot; &quot;2:Medium&quot; &quot;3:Low&quot; &quot;6:NA/ Don&#39;t buy Raskin&quot; ...
##  $ ksr36    :Class &#39;labelled&#39;  atomic [1:15144] 3 6 3 3 3 3 6 6 3 3 ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;During the past year, have you ever refused to buy rice from the [...] program e&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:4] 1 3 6 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;1:Yes&quot; &quot;3:No -&gt;KSR38&quot; &quot;6:NA -&gt; KSR38&quot; &quot;9:Missing&quot;
##  $ ksr37    :Class &#39;labelled&#39;  atomic [1:15144] NA NA NA NA NA NA NA NA NA NA ...
##   .. ..- attr(*, &quot;label&quot;)= chr &quot;Why didn�t you buy rice from the [...] program at that time  ?&quot;
##   .. ..- attr(*, &quot;labels&quot;)= Named int [1:9] 1 2 3 4 5 6 7 8 9
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:9] &quot;1:Have no money&quot; &quot;2:The rice&#39;s quality is low&quot; &quot;3:Have no time&quot; &quot;4:Too far&quot; ...
##  $ hhid14   : atomic  0010600 0010651 0010800 0010851 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;2014 Household ID&quot;
##  $ ksr26b_rp: atomic  NA NA NA NA NA NA NA NA NA NA ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;What was the total quantity rice bought by this household from the [...] program&quot;
##  $ ksr27b_rp: atomic  NA NA NA NA NA NA NA NA NA NA ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;What was the total quantity rice bought by this household from the [...] program&quot;
##  $ ksr29a   : atomic  NA NA NA NA NA NA NA NA NA NA ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;The last time you bought rice from the [...] program, what was the quantity of r&quot;
##  $ ksr31    : atomic  60000 NA NA 90000 120000 NA NA NA 30000 48000 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;The last time you bought rice from the [...] program, what was the total amount &quot;
##  $ ksr32    : atomic  270000 NA NA 150000 300000 NA NA NA 135000 250000 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;What would the same amount have cost in regular market at that time?&quot;
##  $ ksr34    : atomic  15000 NA NA 10000 10000 NA NA NA 13000 8000 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;What  was price per kg of rice in the regular market at that time?&quot;
##  $ version  : atomic  1.2 1.2 1.2 1.2 1.2 1.2 1.2 1.2 1.2 1.2 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;IFLS 5 release number&quot;
##  $ module   : atomic  B1_KSR2 B1_KSR2 B1_KSR2 B1_KSR2 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;IFLS survey module&quot;</code></pre>
</div>
<div id="save-data" class="section level2">
<h2>Save data</h2>
<p>for future analyses</p>
<pre class="r"><code>saveRDS(all_data, &quot;data/all.rds&quot;)</code></pre>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
