<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/FileSaver.min.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 64px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 69px;
  margin-top: -69px;
}

.section h2 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h3 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h4 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h5 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h6 {
  padding-top: 69px;
  margin-top: -69px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("1_data_import.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>





<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Birth Order IFLS</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">

<li style="background-color: #66C2A5">
  <a href="index.html">Overview</a>
</li>
<li style="background-color: #FC8D62">
  <a href="1_data_import.html">Data Wrangling</a>
</li>
<li style="background-color: #8DA0CB">
  <a href="2_Inclusion.html">Data Sampling</a>
</li>
<li style="background-color: #E78AC3">
  <a href="3_sample_analyses.html">Sample Analyses</a>
</li>
<li style="background-color: #A6D854">
  <a href="4_analyses.html">Birth Order Effects</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/laurabotzet/birth_order_ifls">
    <span class="fa fa-github"></span>


  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>




</div>


<div id="data-wrangling" class="section level1 tabset">
<h1><span style="color:#FC8D62">Data Wrangling</span></h1>
<div id="helper" class="section level2">
<h2>Helper</h2>
<pre class="r"><code>source(&quot;0_helpers.R&quot;)</code></pre>
<pre><code>## 
## Attaching package: &#39;formr&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:rmarkdown&#39;:
## 
##     word_document</code></pre>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     date</code></pre>
<pre><code>## 
## Attaching package: &#39;data.table&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:lubridate&#39;:
## 
##     hour, isoweek, mday, minute, month, quarter, second, wday, week, yday, year</code></pre>
<pre><code>## The following objects are masked from &#39;package:formr&#39;:
## 
##     first, last</code></pre>
<pre><code>## Loading required package: Matrix</code></pre>
<pre><code>## 
## Attaching package: &#39;lmerTest&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:lme4&#39;:
## 
##     lmer</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     step</code></pre>
<pre><code>## 
## Attaching package: &#39;cowplot&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     ggsave</code></pre>
<pre><code>## 
## Attaching package: &#39;haven&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:forcats&#39;:
## 
##     as_factor</code></pre>
<pre><code>## 
## Attaching package: &#39;psych&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:ggplot2&#39;:
## 
##     %+%, alpha</code></pre>
<pre><code>## This is lavaan 0.5-22</code></pre>
<pre><code>## lavaan is BETA software! Please report any bugs.</code></pre>
<pre><code>## Loading required package: lattice</code></pre>
<pre><code>## Loading required package: survival</code></pre>
<pre><code>## Loading required package: Formula</code></pre>
<pre><code>## 
## Attaching package: &#39;Hmisc&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:psych&#39;:
## 
##     describe</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     format.pval, round.POSIXt, trunc.POSIXt, units</code></pre>
<pre><code>## 
## Attaching package: &#39;tidyr&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:Matrix&#39;:
## 
##     expand</code></pre>
<pre><code>## ------------------------------------------------------------------------------------------------------------</code></pre>
<pre><code>## data.table + dplyr code now lives in dtplyr.
## Please library(dtplyr)!</code></pre>
<pre><code>## ------------------------------------------------------------------------------------------------------------</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:Hmisc&#39;:
## 
##     combine, src, summarize</code></pre>
<pre><code>## The following objects are masked from &#39;package:data.table&#39;:
## 
##     between, first, last</code></pre>
<pre><code>## The following objects are masked from &#39;package:lubridate&#39;:
## 
##     intersect, setdiff, union</code></pre>
<pre><code>## The following objects are masked from &#39;package:formr&#39;:
## 
##     first, last</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
</div>
<div id="import-data" class="section level2 active">
<h2>Import data</h2>
<p>All data is retrieved from the [RAND foundatio]n(<a href="http://www.rand.org/labor/FLS/IFLS.html" class="uri">http://www.rand.org/labor/FLS/IFLS.html</a>)</p>
<pre class="r"><code>### Informations about individuals living in the household in 2014/2015
## All Individuals living in the household
bk_ar1 = read_dta(&quot;data/hh14_all_dta/bk_ar1.dta&quot;) # Book K, Section ar
# compute father pidlink
bk_ar1 = left_join(bk_ar1, bk_ar1 %&gt;% select(hhid14_9, pid14, pidlink) %&gt;% rename(ar10 = pid14, father_pidlink = pidlink), by = c(&quot;hhid14_9&quot;, &quot;ar10&quot;))
# compute mother pidlink
bk_ar1 = left_join(bk_ar1, bk_ar1 %&gt;% select(hhid14_9, pid14, pidlink) %&gt;% rename(ar11 = pid14, mother_pidlink = pidlink), by = c(&quot;hhid14_9&quot;, &quot;ar11&quot;))

### Informations from IFLS wave 5 to link data to earlier waves:
ptrack = read_dta(&quot;data/hh14_all_dta/ptrack.dta&quot;) # Traking informations

### Pregnancy Informations from mother
## Wave 5 - 2014
w5_pregnancy = read_dta(&quot;data/hh14_all_dta/b4_ch1.dta&quot;) # Book 4, Section ch
## Wave 4 - 2007
w4_pregnancy = read_dta(&quot;data/hh07_all_dta/b4_ch1.dta&quot;) # Book 4, Section ch
## Wave 3 - 2000
w3_pregnancy = read_dta(&quot;data/hh00_all_dta/b4_ch1.dta&quot;) # Book 4, Section ch
## Wave 2 - 1997
w2_pregnancy = read_dta(&quot;data/hh97dta/b4_ch1.dta&quot;) # Book 4, Section ch
## Wave 1 - 1993
w1_pregnancy = read_dta(&quot;data/hh93dta/buk4ch1.dta&quot;) # Book 4, Section ch

### Marriage information from mother
## Wave 5 - 2014
w5_marriage= read_dta(&quot;data/hh14_all_dta/b4_kw3.dta&quot;) # Book 4, Section kw3
## Wave 4 - 2007
w4_marriage = read_dta(&quot;data/hh07_all_dta/b4_kw2.dta&quot;) # Book 4, Section kw2
## Wave 3 - 2000
w3_marriage = read_dta(&quot;data/hh00_all_dta/b4_kw3.dta&quot;) # Book 4, Section kw3
## Wave 2 - 1997
w2_marriage = read_dta(&quot;data/hh97dta/b4_kw2.dta&quot;) # Book 4, Section kw2
## Wave 1 - 1993
w1_marriage = read_dta(&quot;data/hh93dta/buk4kw2.dta&quot;) # Book 4, Section kw2

## Additional marriage information from mother
# Wave 5 - 2014
w5_marriage_additional = read_dta(&quot;data/hh14_all_dta/b4_cov.dta&quot;) # Book 4, Section cov
# Wave 4 - 2007
w4_marriage_additional = read_dta(&quot;data/hh07_all_dta/b4_cov.dta&quot;) # Book 4, Section cov
# Wave 3 - 2000
w3_marriage_additional = read_dta(&quot;data/hh00_all_dta/b4_cov.dta&quot;) # Book 4, Section cov
# Wave 2 - 1997
w2_marriage_additional = read_dta(&quot;data/hh97dta/b4_cov.dta&quot;) # Book 4, Section cov
# Wave 1 - 1993
w1_marriage_additional = read_dta(&quot;data/hh93dta/bukkar2.dta&quot;) # Book K, Section ar, household roaster

### IQ Information
ek_ek2 = read_dta(&quot;data/hh14_all_dta/ek_ek2.dta&quot;) # Book ek2
# additional information (counting backwards, adaptive testing) for adults
b3b_cob = read_dta(&quot;data/hh14_all_dta/b3b_cob.dta&quot;) # Book 3b, Section cob
b3b_co1 = read_dta(&quot;data/hh14_all_dta/b3b_co1.dta&quot;) # Book 3b, Section co1
### Personality Information (only for adults)
b3b_psn = read_dta(&quot;data/hh14_all_dta/b3b_psn.dta&quot;) # Book 3b, Section psn

### Risk taking
b3a_si = read_dta(&quot;data/hh14_all_dta/b3a_si.dta&quot;) # Book 3b, Section si</code></pre>
</div>
<div id="birth-order-information" class="section level2 tabset">
<h2>Birth order information</h2>
<div id="information-about-pregnancy" class="section level3">
<h3>Information about pregnancy</h3>
<pre class="r"><code>## Select data
w5_pregnancy = w5_pregnancy %&gt;% select(pidlink, ch05, ch06, ch06a, ch08, ch09day, ch09mth, ch09yr, ch25)
w4_pregnancy = w4_pregnancy %&gt;% select(pidlink, ch05, ch06, ch06a, ch08, ch09day, ch09mth, ch09yr, ch25)
w3_pregnancy = w3_pregnancy %&gt;% select(pidlink, ch05, ch06, ch06a, ch08, ch09day, ch09mth, ch09yr, ch25)
w2_pregnancy = w2_pregnancy %&gt;% select(pidlink, ch05, ch06, ch06a, ch08, ch09day, ch09mth, ch09yr, ch25)
w1_pregnancy = w1_pregnancy %&gt;% 
  group_by(pidlink, ch04) %&gt;% mutate(ch06a = if_else(!is.na(pidlink) &amp; !is.na(ch04), if_else( n() &gt; 1, 1, 3), 9)) %&gt;%
  ungroup() %&gt;% 
  select(pidlink, ch05, ch06, ch06a, ch08, ch09day, ch09mth, ch09yr, ch25) %&gt;% 
# In the first wave the year is named wrong
  mutate(ch09yr = ifelse(ch09yr &lt;= 93, ch09yr, NA),
          ch09yr = as.numeric(str_c(&quot;19&quot;, ch09yr)))

## Combine data
pregnancy = bind_rows(w1 = w1_pregnancy, w2 = w2_pregnancy, w3 = w3_pregnancy, w4 = w4_pregnancy, w5 = w5_pregnancy, .id = &quot;wave&quot;)

## Rename Variables
pregnancy = pregnancy %&gt;% rename(chron_order_birth = ch05, lifebirths = ch06, multiple_birth = ch06a, gender = ch08,
                                 birth_day = ch09day, birth_month = ch09mth, birth_year = ch09yr, 
                                 mother_pidlink = pidlink, alive = ch25) # pregnancy$lifebirths values: 1 = still pregnant, 2 = livebirth, 3 = still birth, 4 = misscarriage

## Set values as NA that are missing
pregnancy = pregnancy %&gt;%
  mutate(birth_day = ifelse(birth_day&gt;31, NA, birth_day),
         birth_month = ifelse(birth_month&gt;12, NA, birth_month),
         birth_year = ifelse(birth_year&gt;2016, NA, birth_year),
         birth_day = ifelse(is.nan(birth_day), NA, birth_day),
         birth_month = ifelse(is.nan(birth_month), NA, birth_month),
         birth_year = ifelse(is.nan(birth_year), NA, birth_year),
         multiple_birth = ifelse(multiple_birth == 9, NA, multiple_birth),
         multiple_birth = ifelse(is.nan(multiple_birth), NA, multiple_birth))

pregnancy$month = paste0(pregnancy$birth_year,&quot;-&quot;, ifelse(is.na(pregnancy$birth_month), &quot;01&quot;,
                                                          pad_month(pregnancy$birth_month)))

pregnancy = pregnancy %&gt;%
  mutate(birthdate = all_available_info_birth_date(birth_year, birth_month, birth_day),
         mother_birthdate = str_c(mother_pidlink, &quot;-&quot;, birthdate))


pregnancy = pregnancy %&gt;% 
  mutate(wave_dup = 6 - str_sub(wave, 2, 3) %&gt;% as.numeric()) %&gt;% # from most recent wave to oldest
  arrange(wave_dup) %&gt;% # use most recent wave (because these will have pregnancy outcomes)
  group_by(mother_birthdate) %&gt;% 
  mutate(duped_in_earlier_wave = min_rank(wave_dup)) %&gt;% 
  filter(duped_in_earlier_wave == 1) %&gt;% 
  ungroup() # eliminate dupes across waves (same mother_birthdate), keep mult births

x = (unique(pregnancy$mother_pidlink))

##remove all with missing birthdate/miscarriage date
table(is.na(pregnancy$birthdate))</code></pre>
<table style="width:22%;">
<colgroup>
<col width="11%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">FALSE</th>
<th align="center">TRUE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">48853</td>
<td align="center">1015</td>
</tr>
</tbody>
</table>
<pre class="r"><code>pregnancy = pregnancy %&gt;%
  filter(!is.na(birthdate))


# for whatever reason there are some multiple births with just one row in the data 
pregnancy %&gt;% group_by(mother_birthdate) %&gt;% mutate(mult = n()) %&gt;% crosstabs(~ mult + multiple_birth, data = .)</code></pre>
<table style="width:31%;">
<colgroup>
<col width="8%" />
<col width="11%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">1</th>
<th align="center">3</th>
<th align="center">NA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">732</td>
<td align="center">42657</td>
<td align="center">4595</td>
</tr>
<tr class="even">
<td align="center">570</td>
<td align="center">141</td>
<td align="center">121</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">5</td>
<td align="center">20</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
</tbody>
</table>
<pre class="r"><code>## Form variable for any multiple birth in family
pregnancy = pregnancy %&gt;% group_by(mother_pidlink) %&gt;% mutate(any_multiple_birth = if_else(any(multiple_birth == 1), 1, 0))
prop.table(table(pregnancy$multiple_birth))</code></pre>
<table style="width:28%;">
<colgroup>
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">1</th>
<th align="center">3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0.02978</td>
<td align="center">0.9702</td>
</tr>
</tbody>
</table>
<pre class="r"><code>prop.table(table(pregnancy$any_multiple_birth))</code></pre>
<table style="width:22%;">
<colgroup>
<col width="11%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0.897</td>
<td align="center">0.103</td>
</tr>
</tbody>
</table>
</div>
<div id="information-about-marriage-history" class="section level3">
<h3>Information about marriage history</h3>
<pre class="r"><code>## Select marriage data
w5_marriage = w5_marriage %&gt;% select(pidlink, kw10mth, kw10yr, kw18mth, kw18yr, kw11, kw19)
w4_marriage = w4_marriage %&gt;% select(pidlink, kw10mth, kw10yr, kw18mth, kw18yr, kw11, kw19)
w3_marriage = w3_marriage %&gt;% select(pidlink, kw10mth, kw10yr, kw18mth, kw18yr, kw11, kw19)
w2_marriage = w2_marriage %&gt;% select(pidlink, kw10mth, kw10yr, kw18mth, kw18yr, kw11, kw19)
w1_marriage = w1_marriage %&gt;% select(pidlink, kw05a, kw05b, kw13a, kw13b, kw06, kw14age)
# In the first wave the year is named wrong
w1_marriage = w1_marriage %&gt;%
  mutate(kw05a = ifelse(kw05a &lt;= 93, as.numeric(str_c(&quot;19&quot;, w1_marriage$kw05a)), kw05a),
         kw13a = ifelse(kw13a &lt;=93 , as.numeric(str_c(&quot;19&quot;, w1_marriage$kw13a)), kw13a))</code></pre>
<pre><code>## Warning in ifelse(structure(c(NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, : NAs durch Umwandlung erzeugt</code></pre>
<pre class="r"><code># And the column names are wrong...
w1_marriage = w1_marriage %&gt;% rename(kw10mth = kw05b, kw10yr = kw05a, kw18mth = kw13b, kw18yr = kw13a, kw11 = kw06, kw19 = kw14age)

## Select additional marriage information (age of respondent)
w5_marriage_additional = w5_marriage_additional %&gt;% select(pidlink, age, dob_yr)
w4_marriage_additional = w4_marriage_additional %&gt;% select(pidlink, age, dob_yr)
w3_marriage_additional = w3_marriage_additional %&gt;% select(pidlink, age, dob_yr)
w2_marriage_additional = w2_marriage_additional %&gt;% select(pidlink, age, dob_yr)
w1_marriage_additional = w1_marriage_additional %&gt;% select(pidlink, ar09yr, ar08yr)
# In the first wave the year is named wrong
w1_marriage_additional = w1_marriage_additional %&gt;%
  mutate(ar08yr = ifelse(ar08yr &lt;= 93, 
                         as.numeric(str_c(&quot;19&quot;, w1_marriage_additional$ar08yr)),
                         ar08yr))
# And the column names are wrong...
w1_marriage_additional = w1_marriage_additional %&gt;% rename(age = ar09yr, dob_yr = ar08yr)

## Combine marriage information and additional marriage information:
w1_marriage = left_join(w1_marriage, w1_marriage_additional, by = &quot;pidlink&quot;) %&gt;%
  mutate(wave = as.numeric(&quot;1993&quot;))
w2_marriage = left_join(w2_marriage, w2_marriage_additional, by = &quot;pidlink&quot;) %&gt;%
  mutate(wave = as.numeric(&quot;1997&quot;))
w3_marriage = left_join(w3_marriage, w3_marriage_additional, by = &quot;pidlink&quot;)  %&gt;%
  mutate(wave = as.numeric(&quot;2000&quot;))
w4_marriage = left_join(w4_marriage, w4_marriage_additional, by = &quot;pidlink&quot;) %&gt;%
  mutate(wave = as.numeric(&quot;2007&quot;))
w5_marriage = left_join(w5_marriage, w5_marriage_additional, by = &quot;pidlink&quot;) %&gt;%
  mutate(wave = as.numeric(&quot;2014&quot;))

## Combine marriage informations
marriage = bind_rows(w1_marriage, w2_marriage, w3_marriage, w4_marriage, w5_marriage)

# Rename columns
marriage = marriage %&gt;% rename(start_year = kw10yr, start_month = kw10mth, end_year = kw18yr, end_month = kw18mth, start_age = kw11, end_age = kw19, birth_year = dob_yr, birth_age = age)


# Set values as NA that are missing
marriage$start_year[ marriage$start_year&lt;1900] = NA
marriage$start_year[ marriage$start_year&gt;2016] = NA
marriage$start_year[ is.nan(marriage$start_year)] = NA
marriage$end_year[ marriage$end_year&lt;1900] = NA
marriage$end_year[ marriage$end_year&gt;2016] = NA
marriage$end_year[ is.nan(marriage$end_year)] = NA
marriage$start_month [marriage$start_month&gt;12] = NA
marriage$start_month [is.nan(marriage$start_month)] = NA
marriage$end_month [marriage$end_month&gt;12] = NA
marriage$end_month [is.nan(marriage$end_month)] = NA
marriage$start_age [marriage$start_age &gt; 97] = NA
marriage$start_age [is.nan(marriage$start_age)] = NA
marriage$end_age [marriage$end_age &gt; 97] = NA
marriage$end_age [is.nan(marriage$end_age)] = NA
marriage$birth_year[ marriage$birth_year&lt;1900] = NA
marriage$birth_year[ marriage$birth_year&gt;2016] = NA
marriage$birth_year[ is.nan(marriage$birth_year)] = NA
marriage$birth_age [marriage$birth_age &gt; 97] = NA
marriage$birth_age [is.nan(marriage$birth_age)] = NA

## Reconstruct marriage start year and end year for marriages with missing year
marriage = marriage %&gt;%
  mutate(birth_year = ifelse(is.na(birth_year), wave - birth_age, birth_year),
         start_year = ifelse(is.na(start_year), birth_year + start_age, start_year),
         end_year = ifelse(is.na(end_year), birth_year + end_age, end_year))


marriage = marriage %&gt;% arrange(pidlink, start_year, start_month, start_age, end_year, end_month, end_age)

marriage = marriage %&gt;% filter(!duplicated(cbind(pidlink, start_year, start_month)) | is.na(start_year) | is.na(start_month)) # nobody gets married twice on the same day, right? so these are dupes.

## Calculate date for beginning of marriage:
marriage = marriage %&gt;% 
  ungroup() %&gt;%
  mutate(start_string = str_c(start_year, &quot;-&quot;, ifelse(is.na(start_month), &quot;01&quot;,
                                                      pad_month(start_month)), &quot;-01&quot;),
        end_string = str_c(end_year, &quot;-&quot;, ifelse(is.na(end_month), &quot;12&quot;, pad_month(end_month)), &quot;-01&quot;),
        start = ymd(start_string),
        end = ymd(end_string) + months(1) - days(1))

## Count number of marriages
marriage = marriage %&gt;%
  arrange(pidlink, start, end) %&gt;%
  group_by(pidlink) %&gt;%
  mutate(number_marriages = n(),
         order_marriage = row_number(),
         marriage_id = paste0(pidlink, &quot;_&quot;, as.character(order_marriage), &quot;_&quot;,
                              as.character(start), &quot;/&quot;,as.character(end)))

### Marriage Timeline
minimum_start = min(ymd(str_c(pregnancy$month, &quot;-01&quot;)), na.rm = T)
maximum_end = max(ymd(str_c(pregnancy$month, &quot;-01&quot;)), na.rm = T)
marriage_timeline = marriage %&gt;%
    mutate(implied_start = as.Date(ifelse(is.na(start), minimum_start , start),
                                   origin=&quot;1970-01-01&quot;),
           implied_end = as.Date(ifelse(is.na(end), maximum_end , end),
                                 origin=&quot;1970-01-01&quot;)) %&gt;%
  filter(implied_start &lt; implied_end)

marriage_timeline = marriage_timeline %&gt;%
    rowwise() %&gt;%
    do(data.frame(
        marriage_id=.$marriage_id, 
        mother_pidlink = .$pidlink,
        order_marriage = .$order_marriage,
        start = .$start,
        end = .$end,
        month = seq(.$implied_start,.$implied_end, by=&quot;1 month&quot;) ))

# no duplicate mother_id - month combinations (no two marriages at the same time)
marriage_timeline = marriage_timeline %&gt;% 
  arrange(mother_pidlink, start, end) %&gt;% 
  distinct(mother_pidlink, month, .keep_all = TRUE)

marriage_timeline$month = stringr::str_sub(as.character(marriage_timeline$month),1,7)

pregnancy = pregnancy %&gt;% left_join(marriage_timeline, by = c(&quot;mother_pidlink&quot;, &quot;month&quot;)) %&gt;% ungroup()</code></pre>
</div>
<div id="birth-order-calculations" class="section level3 tabset">
<h3>Birth order calculations</h3>
<pre class="r"><code>#### Maternal Pregnancy Order
pregnancy1 = pregnancy %&gt;%
  group_by(mother_pidlink) %&gt;%
  mutate(birthorder_uterus_preg = min_rank(birthdate),
         # birthorder_uterus_preg = ifelse(any_multiple_birth == 1, NA, birthorder_uterus_preg),
         sibling_count_uterus_preg = sum(!is.na(birthdate))
         # ,sibling_count_uterus_preg = ifelse(any_multiple_birth == 1, NA, sibling_count_uterus_preg)
         ) %&gt;%
  ungroup()

#### Maternal Birth Order
pregnancy2 = pregnancy %&gt;%
  filter(lifebirths == 2) %&gt;%
  group_by(mother_pidlink) %&gt;%
    mutate(birthorder_uterus_alive = min_rank(birthdate),
           # birthorder_uterus_alive = ifelse(any_multiple_birth == 1, NA, birthorder_uterus_alive),
           sibling_count_uterus_alive = sum(!is.na(birthdate))
           # ,sibling_count_uterus_alive = ifelse(any_multiple_birth == 1, NA, sibling_count_uterus_alive)
           ) %&gt;%
  ungroup()

pregnancy2 = pregnancy2 %&gt;% select(mother_birthdate, birthorder_uterus_alive, sibling_count_uterus_alive) %&gt;% distinct()

#### Parental Full Sibling Birthorder
pregnancy3 = pregnancy %&gt;%
  filter(lifebirths == 2) %&gt;%
  group_by(marriage_id) %&gt;%
    mutate(birthorder_genes = min_rank(birthdate),
           birthorder_genes = ifelse(is.na(marriage_id), NA, birthorder_genes),
           sibling_count_genes = ifelse(is.na(marriage_id), NA, sum(!is.na(marriage_id)))) %&gt;%
  ungroup()

pregnancy3 = pregnancy3 %&gt;% select(mother_birthdate, birthorder_genes, sibling_count_genes) %&gt;% distinct()


### Combine birthorder data
pregnancy = left_join(pregnancy1, pregnancy2, by=&quot;mother_birthdate&quot;) %&gt;% ungroup()
pregnancy = left_join(pregnancy, pregnancy3, by = &quot;mother_birthdate&quot;) %&gt;% ungroup()</code></pre>
</div>
<div id="birth-order-graphs" class="section level3">
<h3>Birth order graphs</h3>
<pre class="r"><code>### Graphs
## Biological Birthorder - Uterus_Pregnancies
ggplot(pregnancy, aes(x=sibling_count_uterus_preg, y=birthorder_uterus_preg)) + geom_jitter(alpha = 0.1)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<pre class="r"><code>## Biological Birthorder - Uterus_Births
ggplot(pregnancy, aes(x=sibling_count_uterus_alive, y=birthorder_uterus_alive)) + geom_jitter(alpha = 0.1)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## Warning: Removed 5314 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/unnamed-chunk-2-2.png" width="672" /></p>
<pre class="r"><code>## Biological Birthorder - Full Sibling Order
ggplot(pregnancy, aes(x=sibling_count_genes, y=birthorder_genes)) + geom_jitter(alpha = 0.1)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## Warning: Removed 5957 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/unnamed-chunk-2-3.png" width="672" /></p>
<pre class="r"><code>## Bio: Uterus_preg vs. Uterus_Births
ggplot(pregnancy, aes(x=birthorder_uterus_preg, y=birthorder_uterus_alive)) + geom_jitter(alpha = 0.1)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## Warning: Removed 5314 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/unnamed-chunk-2-4.png" width="672" /></p>
<pre class="r"><code># The birth_order_alive is always lower, which makes sense, becaus not live births (miscarriage, still births are excluded)

## Bio: Uterus_preg vs. Genes
ggplot(pregnancy, aes(x=birthorder_uterus_preg, y=birthorder_genes)) + geom_jitter(alpha = 0.1)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## Warning: Removed 5957 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/unnamed-chunk-2-5.png" width="672" /></p>
<pre class="r"><code># The birth_order_alive is always lower, which makes sense, becaus not live births (miscarriage, still births are excluded)

## Bio: Uterus_alive vs. Genes
ggplot(pregnancy, aes(x=birthorder_uterus_alive, y=birthorder_genes))  + geom_jitter(alpha = 0.1)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## Warning: Removed 5957 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/unnamed-chunk-2-6.png" width="672" /></p>
<pre class="r"><code># The birth_order_alive is always lower, which makes sense, becaus not live births (miscarriage, still births are excluded)

pregnancy %&gt;% select(birthorder_uterus_alive, birthorder_uterus_preg, birthorder_genes) %&gt;% na.omit() %&gt;% cor()</code></pre>
<table style="width:96%;">
<colgroup>
<col width="36%" />
<col width="34%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">birthorder_uterus_alive</th>
<th align="center">birthorder_uterus_preg</th>
<th align="center">birthorder_genes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">0.9672</td>
<td align="center">0.9677</td>
</tr>
<tr class="even">
<td align="center">0.9672</td>
<td align="center">1</td>
<td align="center">0.9362</td>
</tr>
<tr class="odd">
<td align="center">0.9677</td>
<td align="center">0.9362</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<pre class="r"><code>pregnancy %&gt;% select(birthorder_uterus_alive, birthorder_uterus_preg, birthorder_genes) %&gt;% missingness_patterns()</code></pre>
<pre><code>##  index                     col missings
##      1        birthorder_genes     5957
##      2 birthorder_uterus_alive     5314</code></pre>
<table style="width:50%;">
<colgroup>
<col width="13%" />
<col width="11%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Pattern</th>
<th align="center">Freq</th>
<th align="center">Culprit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">___</td>
<td align="center">42896</td>
<td align="center">_</td>
</tr>
<tr class="even">
<td align="center">1_2</td>
<td align="center">5314</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">1__</td>
<td align="center">643</td>
<td align="center">birthorder_genes</td>
</tr>
</tbody>
</table>
<pre class="r"><code>pregnancy %&gt;% select(sibling_count_uterus_alive, sibling_count_uterus_preg, sibling_count_genes) %&gt;% missingness_patterns()</code></pre>
<pre><code>##  index                        col missings
##      1        sibling_count_genes     5957
##      2 sibling_count_uterus_alive     5314</code></pre>
<table style="width:54%;">
<colgroup>
<col width="13%" />
<col width="11%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Pattern</th>
<th align="center">Freq</th>
<th align="center">Culprit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">___</td>
<td align="center">42896</td>
<td align="center">_</td>
</tr>
<tr class="even">
<td align="center">1_2</td>
<td align="center">5314</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">1__</td>
<td align="center">643</td>
<td align="center">sibling_count_genes</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="select-individual-data-from-ifls-5" class="section level2">
<h2>Select individual data from IFLS 5</h2>
<pre class="r"><code>### Individuals
individuals = bk_ar1 %&gt;% select(hhid14_9, pidlink, father_pidlink, mother_pidlink, ar01a, ar02b, ar10, ar11, ar07, ar08day, ar08mth, ar08yr, ar09, ar18eyr, ar18emth)
#Rename variables to make it easier
individuals = rename(individuals, relation_to_HH_head = ar02b, fatherID = ar10, motherID = ar11, sex = ar07, age = ar09, status = ar01a, death_yr = ar18eyr, death_month = ar18emth) 
# Remove duplicats (some people are mentioned in two households, e.g. because they moved in the last 12 months)
individuals = individuals %&gt;% distinct(pidlink, .keep_all = TRUE)
individuals_unchanged = individuals

## people whose parents can not be identified have to be marked as NA:
individuals$fatherID[ individuals$fatherID&gt;50] = NA
individuals$motherID[ individuals$motherID&gt;50] = NA


## Create date of birth
#Set all variables missing that have not been reported:
individuals$ar08day[ individuals$ar08day&gt;31] = NA
individuals$ar08mth[ individuals$ar08mth&gt;12] = NA
individuals$ar08yr[ individuals$ar08yr&gt;2016] = NA
individuals$ar08day[ is.nan(individuals$ar08day) ] = NA
individuals$ar08mth[ is.nan(individuals$ar08mth) ] = NA
individuals$ar08yr[ is.nan(individuals$ar08yr)] = NA
individuals$death_month[ individuals$death_month&gt;12] = NA
individuals$death_yr[ individuals$death_yr&gt;2016] = NA
individuals$death_month[ is.nan(individuals$death_month) ] = NA
individuals$death_yr[ is.nan(individuals$death_yr)] = NA

## Create variable that contains pidlink of mother and birthdate of child:
individuals = individuals %&gt;%
    mutate(birthdate = all_available_info_birth_date(ar08yr, ar08mth, ar08day),
           mother_birthdate = str_c(mother_pidlink, &quot;-&quot;, birthdate)) # mother_pidlink-YYYY-MM; is NA if birth_year is missing

##Remove all with missing mother_birthdate
individuals = individuals %&gt;%
  filter(!is.na(mother_birthdate))


## Combine information from pregnancy history and individual files
pregnancy = pregnancy %&gt;%
  group_by(mother_birthdate) %&gt;%
  mutate(twin_order = row_number(birthdate),
         mother_birthdate_unique = paste0(mother_birthdate, &quot;-&quot;, twin_order)) %&gt;%
  ungroup()

individuals = individuals %&gt;%
  group_by(mother_birthdate) %&gt;%
  mutate(twin_order = row_number(birthdate),
         mother_birthdate_unique = paste0(mother_birthdate, &quot;-&quot;, twin_order)) %&gt;%
  ungroup() %&gt;%
  select(mother_birthdate_unique, pidlink, sex, age)


pregnancy_missing = pregnancy %&gt;%
  mutate(missing = ifelse(!(mother_birthdate_unique %in% individuals$mother_birthdate_unique),
                          1, 0)) %&gt;%
  filter(missing == 1)

# prevent that twins exist 4 times because they appear twice in pregnancy and twice in individuals, by eliminating dupes from pregnancy
pregnancy_not_missing = pregnancy %&gt;%
  mutate(missing = ifelse(!(mother_birthdate_unique %in% individuals$mother_birthdate_unique),
                          1, 0)) %&gt;%
  filter(missing == 0)          

alldata_pregnancy = left_join(pregnancy_not_missing, individuals,
                              by = &quot;mother_birthdate_unique&quot;)

alldata_pregnancy = bind_rows(alldata_pregnancy, pregnancy_missing)

prop.table(table(alldata_pregnancy$multiple_birth))</code></pre>
<table style="width:28%;">
<colgroup>
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">1</th>
<th align="center">3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0.02978</td>
<td align="center">0.9702</td>
</tr>
</tbody>
</table>
<pre class="r"><code>prop.table(table(alldata_pregnancy$any_multiple_birth))</code></pre>
<table style="width:22%;">
<colgroup>
<col width="11%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">0</th>
<th align="center">1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0.897</td>
<td align="center">0.103</td>
</tr>
</tbody>
</table>
</div>
<div id="intelligence" class="section level2 tabset">
<h2>Intelligence</h2>
<pre class="r"><code>### IQ Informations
##ek2 (&gt;14yrs)
iq2.1 = ek_ek2 %&gt;% select(hhid14_9, pidlink, age, sex, ektype, resptype, result, reason, ek1_ans, ek2_ans, ek3_ans, ek4_ans, ek5_ans, ek6_ans, ek7_ans, ek8_ans, ek9_ans, ek10_ans, ek11_ans, ek12_ans, ek13_ans, ek14_ans, ek15_ans, ek16_ans, ek17_ans, ek18_ans, ek19_ans, ek20_ans, ek21_ans, ek22_ans)


##additional informations for adults: counting backwards
iq2.2 = b3b_co1 %&gt;% select(hhid14_9, pidlink, co04a, co04b, co04c, co04d, co04e, co07count, co10count)
##additional informations for adults: adaptive number test
iq2.3 = b3b_cob %&gt;% select(hhid14_9, pidlink, w_abil, cob18, cob19b)

## put all the informations for participants &gt;= 15 together
iq2 = full_join(iq2.1, iq2.2, by = &quot;pidlink&quot;)
iq2 = full_join(iq2, iq2.3, by = &quot;pidlink&quot;)
iq = iq2
iq &lt;- plyr::rename(iq, c(&quot;age&quot;=&quot;IQage&quot;)) 

### calculate iq scores
##Raven Test
answered_raven_items = iq %&gt;% select(ek1_ans:ek6_ans, ek11_ans, ek12_ans)
psych::alpha(data.frame(answered_raven_items))</code></pre>
<pre><code>## 
## Reliability analysis   
## Call: psych::alpha(x = data.frame(answered_raven_items))
## 
##   raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd
##       0.85      0.85    0.84      0.41 5.5 0.0012 0.53 0.33
## 
##  lower alpha upper     95% confidence boundaries
## 0.85 0.85 0.85 
## 
##  Reliability if an item is dropped:
##          raw_alpha std.alpha G6(smc) average_r S/N alpha se
## ek1_ans       0.82      0.82    0.81      0.39 4.5   0.0014
## ek2_ans       0.81      0.81    0.80      0.38 4.3   0.0015
## ek3_ans       0.81      0.81    0.80      0.38 4.3   0.0015
## ek4_ans       0.82      0.81    0.81      0.38 4.4   0.0014
## ek5_ans       0.83      0.83    0.83      0.41 4.9   0.0013
## ek6_ans       0.85      0.85    0.84      0.44 5.6   0.0012
## ek11_ans      0.83      0.82    0.82      0.40 4.6   0.0014
## ek12_ans      0.86      0.86    0.85      0.46 5.9   0.0011
## 
##  Item statistics 
##              n raw.r std.r r.cor r.drop mean   sd
## ek1_ans  36380  0.74  0.74  0.71   0.65 0.74 0.44
## ek2_ans  36380  0.80  0.80  0.79   0.72 0.67 0.47
## ek3_ans  36380  0.79  0.79  0.77   0.71 0.58 0.49
## ek4_ans  36380  0.78  0.77  0.74   0.69 0.59 0.49
## ek5_ans  36380  0.68  0.68  0.60   0.56 0.50 0.50
## ek6_ans  36380  0.54  0.55  0.44   0.40 0.28 0.45
## ek11_ans 36380  0.73  0.72  0.67   0.62 0.61 0.49
## ek12_ans 36380  0.47  0.49  0.36   0.34 0.22 0.42
## 
## Non missing response frequency for each item
##             0    1 miss
## ek1_ans  0.26 0.74    0
## ek2_ans  0.33 0.67    0
## ek3_ans  0.42 0.58    0
## ek4_ans  0.41 0.59    0
## ek5_ans  0.50 0.50    0
## ek6_ans  0.72 0.28    0
## ek11_ans 0.39 0.61    0
## ek12_ans 0.78 0.22    0</code></pre>
<pre class="r"><code>iq$raven = rowMeans( answered_raven_items, na.rm = T)
iq$raven[! iq$result %in% 1:2] = NA
qplot(iq$raven)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 5049 rows containing non-finite values (stat_bin).

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20IQ%20data-1.png" width="672" /></p>
<pre class="r"><code>##Math Test
answered_math_items = iq %&gt;% select(ek18_ans:ek22_ans)
psych::alpha(data.frame(answered_math_items))</code></pre>
<pre><code>## 
## Reliability analysis   
## Call: psych::alpha(x = data.frame(answered_math_items))
## 
##   raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd
##       0.68      0.68    0.64       0.3 2.1 0.0026 0.26 0.29
## 
##  lower alpha upper     95% confidence boundaries
## 0.68 0.68 0.69 
## 
##  Reliability if an item is dropped:
##          raw_alpha std.alpha G6(smc) average_r S/N alpha se
## ek18_ans      0.68      0.67    0.61      0.34 2.1   0.0027
## ek19_ans      0.60      0.60    0.54      0.28 1.5   0.0033
## ek20_ans      0.60      0.60    0.53      0.27 1.5   0.0034
## ek21_ans      0.66      0.65    0.60      0.32 1.9   0.0029
## ek22_ans      0.63      0.62    0.56      0.29 1.7   0.0032
## 
##  Item statistics 
##              n raw.r std.r r.cor r.drop mean   sd
## ek18_ans 36380  0.59  0.59  0.41   0.34 0.25 0.43
## ek19_ans 36380  0.71  0.71  0.61   0.50 0.28 0.45
## ek20_ans 36380  0.73  0.72  0.63   0.51 0.34 0.47
## ek21_ans 36380  0.60  0.63  0.46   0.38 0.18 0.38
## ek22_ans 36380  0.68  0.68  0.55   0.46 0.28 0.45
## 
## Non missing response frequency for each item
##             0    1 miss
## ek18_ans 0.75 0.25    0
## ek19_ans 0.72 0.28    0
## ek20_ans 0.66 0.34    0
## ek21_ans 0.82 0.18    0
## ek22_ans 0.72 0.28    0</code></pre>
<pre class="r"><code>iq$math = rowMeans( answered_math_items, na.rm = T)
iq$math[! iq$result %in% 1:2] = NA
qplot(iq$math)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 5049 rows containing non-finite values (stat_bin).

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20IQ%20data-2.png" width="672" /></p>
<pre class="r"><code>##Counting Items
# Create Right/Wrong Scores for the counting items
iq$co04aright = as.numeric(iq$co04a == 93)
iq$co04bright = as.numeric(iq$co04b == iq$co04a-7)
iq$co04cright = as.numeric(iq$co04c == iq$co04b-7)
iq$co04dright = as.numeric(iq$co04d == iq$co04c-7)
iq$co04eright = as.numeric(iq$co04e == iq$co04d-7)

answered_counting_items = iq %&gt;% select(co04aright:co04eright)
psych::alpha(data.frame(answered_counting_items))</code></pre>
<pre><code>## 
## Reliability analysis   
## Call: psych::alpha(x = data.frame(answered_counting_items))
## 
##   raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd
##       0.69      0.68    0.64      0.29 2.1 0.0024 0.73 0.29
## 
##  lower alpha upper     95% confidence boundaries
## 0.68 0.69 0.69 
## 
##  Reliability if an item is dropped:
##            raw_alpha std.alpha G6(smc) average_r S/N alpha se
## co04aright      0.71      0.71    0.65      0.38 2.4   0.0025
## co04bright      0.64      0.62    0.57      0.29 1.6   0.0028
## co04cright      0.60      0.59    0.54      0.27 1.5   0.0030
## co04dright      0.61      0.60    0.54      0.27 1.5   0.0030
## co04eright      0.60      0.59    0.54      0.27 1.5   0.0031
## 
##  Item statistics 
##                n raw.r std.r r.cor r.drop mean   sd
## co04aright 30452  0.43  0.51  0.27   0.23 0.95 0.22
## co04bright 29661  0.70  0.67  0.53   0.45 0.63 0.48
## co04cright 29260  0.73  0.71  0.61   0.52 0.69 0.46
## co04dright 29078  0.73  0.71  0.61   0.51 0.69 0.46
## co04eright 28983  0.73  0.71  0.61   0.52 0.70 0.46
## 
## Non missing response frequency for each item
##               0    1 miss
## co04aright 0.05 0.95 0.16
## co04bright 0.37 0.63 0.18
## co04cright 0.31 0.69 0.20
## co04dright 0.31 0.69 0.20
## co04eright 0.30 0.70 0.20</code></pre>
<pre class="r"><code>iq$count_backwards = rowSums( answered_counting_items, na.rm = T) / 5
qplot(iq$count_backwards)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20IQ%20data-3.png" width="672" /></p>
<pre class="r"><code>## Word Memory
iq$words_immediate = iq$co07count
iq$words_delayed = iq$co10count
qplot(iq$words_immediate, iq$words_delayed, geom = &quot;jitter&quot;)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## Warning: Removed 4917 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20IQ%20data-4.png" width="672" /></p>
<pre class="r"><code>answered_word_items = iq %&gt;% select(co07count,co10count)
psych::alpha(data.frame(answered_word_items))</code></pre>
<pre><code>## Warning in matrix(unlist(drop.item), ncol = 8, byrow = TRUE): Datenlnge [12] ist kein Teiler oder Vielfaches
## der Anzahl der Spalten [8]</code></pre>
<pre><code>## 
## Reliability analysis   
## Call: psych::alpha(x = data.frame(answered_word_items))
## 
##   raw_alpha std.alpha G6(smc) average_r S/N    ase mean  sd
##       0.87      0.87    0.77      0.77 6.8 0.0014  4.6 1.8
## 
##  lower alpha upper     95% confidence boundaries
## 0.87 0.87 0.87 
## 
##  Reliability if an item is dropped:
##           raw_alpha std.alpha G6(smc) average_r  S/N alpha se
## co07count      0.77      0.77     0.6      0.77   NA       NA
## co10count      0.60      0.77      NA        NA 0.77   0.0046
## 
##  Item statistics 
##               n raw.r std.r r.cor r.drop mean  sd
## co07count 31471  0.94  0.94  0.83   0.77  5.1 1.8
## co10count 31471  0.94  0.94  0.83   0.77  4.2 1.9</code></pre>
<pre class="r"><code>iq$words_remembered_avg = rowMeans( answered_word_items, na.rm = T)
qplot(iq$words_remembered_avg)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 4917 rows containing non-finite values (stat_bin).

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20IQ%20data-5.png" width="672" /></p>
<pre class="r"><code>##Adaptive Numbering
iq$adaptive_numbering = iq$w_abil
qplot(iq$adaptive_numbering)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 4979 rows containing non-finite values (stat_bin).

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20IQ%20data-6.png" width="672" /></p>
<pre class="r"><code>## Correlation of all Iq-Tests
round(cor(iq %&gt;% select(raven, math, count_backwards, words_immediate, words_delayed, adaptive_numbering), use = &quot;pairwise.complete.obs&quot;), 2)</code></pre>
<table>
<colgroup>
<col width="9%" />
<col width="8%" />
<col width="20%" />
<col width="20%" />
<col width="18%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">raven</th>
<th align="center">math</th>
<th align="center">count_backwards</th>
<th align="center">words_immediate</th>
<th align="center">words_delayed</th>
<th align="center">adaptive_numbering</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">0.41</td>
<td align="center">0.32</td>
<td align="center">0.38</td>
<td align="center">0.37</td>
<td align="center">0.45</td>
</tr>
<tr class="even">
<td align="center">0.41</td>
<td align="center">1</td>
<td align="center">0.26</td>
<td align="center">0.31</td>
<td align="center">0.31</td>
<td align="center">0.35</td>
</tr>
<tr class="odd">
<td align="center">0.32</td>
<td align="center">0.26</td>
<td align="center">1</td>
<td align="center">0.33</td>
<td align="center">0.3</td>
<td align="center">0.4</td>
</tr>
<tr class="even">
<td align="center">0.38</td>
<td align="center">0.31</td>
<td align="center">0.33</td>
<td align="center">1</td>
<td align="center">0.77</td>
<td align="center">0.4</td>
</tr>
<tr class="odd">
<td align="center">0.37</td>
<td align="center">0.31</td>
<td align="center">0.3</td>
<td align="center">0.77</td>
<td align="center">1</td>
<td align="center">0.37</td>
</tr>
<tr class="even">
<td align="center">0.45</td>
<td align="center">0.35</td>
<td align="center">0.4</td>
<td align="center">0.4</td>
<td align="center">0.37</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<pre class="r"><code>##Missingness_Patterns
formr::missingness_patterns(iq %&gt;% select(raven, math, count_backwards, words_immediate, words_delayed, adaptive_numbering))</code></pre>
<pre><code>##  index                col missings
##      1              raven     5049
##      2               math     5049
##      3 adaptive_numbering     4979
##      4    words_immediate     4917
##      5      words_delayed     4917</code></pre>
<table style="width:56%;">
<colgroup>
<col width="16%" />
<col width="11%" />
<col width="27%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Pattern</th>
<th align="center">Freq</th>
<th align="center">Culprit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">_________</td>
<td align="center">31000</td>
<td align="center">_</td>
</tr>
<tr class="even">
<td align="center">1_2_3_4_5</td>
<td align="center">4593</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">1_2______</td>
<td align="center">409</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">____3_4_5</td>
<td align="center">324</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">1_2_3____</td>
<td align="center">47</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">____3____</td>
<td align="center">15</td>
<td align="center">adaptive_numbering</td>
</tr>
</tbody>
</table>
<pre class="r"><code>##g_factor
&quot;g_factor =~ raven + math + count_backwards +  words_delayed+ adaptive_numbering&quot; %&gt;%
  cfa(missing = &quot;fiml&quot;, data = iq, std.lv = T, std.ov = T) -&gt; cfa_g
summary(cfa_g)</code></pre>
<pre><code>## lavaan (0.5-22) converged normally after  17 iterations
## 
##   Number of observations                         36388
## 
##   Number of missing patterns                         6
## 
##   Estimator                                         ML
##   Minimum Function Test Statistic              472.825
##   Degrees of freedom                                 5
##   P-value (Chi-square)                           0.000
## 
## Parameter Estimates:
## 
##   Information                                 Observed
##   Standard Errors                             Standard
## 
## Latent Variables:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   g_factor =~                                         
##     raven             0.708    0.006  110.987    0.000
##     math              0.581    0.007   89.240    0.000
##     count_backwrds    0.590    0.006   96.255    0.000
##     words_delayed     0.589    0.006   91.331    0.000
##     adaptiv_nmbrng    0.722    0.006  112.650    0.000
## 
## Intercepts:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .raven            -0.103    0.006  -17.565    0.000
##    .math             -0.084    0.006  -14.512    0.000
##    .count_backwrds   -0.000    0.005   -0.000    1.000
##    .words_delayed    -0.084    0.006  -14.494    0.000
##    .adaptiv_nmbrng   -0.105    0.006  -17.827    0.000
##     g_factor          0.000                           
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .raven             0.553    0.006   88.200    0.000
##    .math              0.699    0.007  105.879    0.000
##    .count_backwrds    0.652    0.007   98.166    0.000
##    .words_delayed     0.687    0.007  105.411    0.000
##    .adaptiv_nmbrng    0.531    0.006   85.260    0.000
##     g_factor          1.000</code></pre>
<pre class="r"><code>iq$g_factor = predict(cfa_g)[,1]
iq = iq %&gt;%
  mutate(g_factor = ifelse(is.na(raven), NA, g_factor),
         g_factor = ifelse(is.na(math), NA, g_factor),
         g_factor = ifelse(is.na(count_backwards), NA, g_factor),
         g_factor = ifelse(is.na(words_immediate), NA, g_factor),
         g_factor = ifelse(is.na(words_delayed), NA, g_factor),
         g_factor = ifelse(is.na(adaptive_numbering), NA, g_factor))
qplot(iq$g_factor)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 5388 rows containing non-finite values (stat_bin).

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20IQ%20data-7.png" width="672" /></p>
</div>
<div id="personality" class="section level2">
<h2>Personality</h2>
<pre class="r"><code>### Personality
##Rearrange personality data so that every individual has only one row
pers = spread(b3b_psn, psntype, psn01)
##name columns
colnames(pers) &lt;- c(&quot;hhid14_9&quot;, &quot;pid14&quot;, &quot;hhid14&quot;, &quot;pidlink&quot;, &quot;version&quot;, &quot;module&quot;, &quot;e1&quot;, &quot;c1&quot;, &quot;o1&quot;, &quot;e2r&quot;, &quot;n1r&quot;, &quot;a1&quot;, &quot;n2r&quot;, &quot;o2&quot;, &quot;c2r&quot;, &quot;o3&quot;, &quot;a2&quot;, &quot;c3&quot;, &quot;e3&quot;, &quot;a3r&quot;, &quot;n3&quot;)
pers = pers %&gt;% select(hhid14_9, pidlink, e1, c1, o1, e2r, n1r, a1, n2r, o2, c2r, o3, a2, c3, e3, a3r, n3)

##Extraversion
pers$e2r_reversed = 6 - pers$e2r
extraversion = pers %&gt;% select(e1, e2r_reversed, e3)
psych::alpha(data.frame(extraversion), check.keys = T)</code></pre>
<pre><code>## 
## Reliability analysis   
## Call: psych::alpha(x = data.frame(extraversion), check.keys = T)
## 
##   raw_alpha std.alpha G6(smc) average_r  S/N    ase mean   sd
##       0.37      0.35    0.28      0.15 0.54 0.0056  3.4 0.67
## 
##  lower alpha upper     95% confidence boundaries
## 0.36 0.37 0.38 
## 
##  Reliability if an item is dropped:
##              raw_alpha std.alpha G6(smc) average_r   S/N alpha se
## e1               0.072     0.081   0.042     0.042 0.088   0.0092
## e2r_reversed     0.218     0.246   0.140     0.140 0.326   0.0077
## e3               0.429     0.429   0.273     0.273 0.753   0.0064
## 
##  Item statistics 
##                  n raw.r std.r r.cor r.drop mean   sd
## e1           31446  0.77  0.71  0.48   0.30  3.1 1.14
## e2r_reversed 31446  0.73  0.67  0.37   0.24  3.0 1.12
## e3           31446  0.44  0.60  0.19   0.11  4.2 0.67
## 
## Non missing response frequency for each item
##                 1    2    3    4    5 miss
## e1           0.03 0.39 0.08 0.39 0.11    0
## e2r_reversed 0.07 0.36 0.09 0.43 0.05    0
## e3           0.00 0.03 0.05 0.64 0.28    0</code></pre>
<pre class="r"><code>pers$big5_ext = rowMeans(extraversion)
qplot(pers$big5_ext)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20pesonality%20data-1.png" width="672" /></p>
<pre class="r"><code>##conscientiousness
pers$c2r_reversed = 6 - pers$c2r
conscientiousness = pers %&gt;% select(c1, c2r_reversed, c3)
psych::alpha(data.frame(conscientiousness), check.keys = T)</code></pre>
<pre><code>## 
## Reliability analysis   
## Call: psych::alpha(x = data.frame(conscientiousness), check.keys = T)
## 
##   raw_alpha std.alpha G6(smc) average_r  S/N   ase mean   sd
##       0.29      0.31    0.24      0.13 0.45 0.007  3.8 0.55
## 
##  lower alpha upper     95% confidence boundaries
## 0.27 0.29 0.3 
## 
##  Reliability if an item is dropped:
##              raw_alpha std.alpha G6(smc) average_r  S/N alpha se
## c1                0.10      0.10   0.054     0.054 0.11   0.0101
## c2r_reversed      0.35      0.36   0.219     0.219 0.56   0.0071
## c3                0.20      0.21   0.116     0.116 0.26   0.0087
## 
##  Item statistics 
##                  n raw.r std.r r.cor r.drop mean   sd
## c1           31446  0.61  0.69  0.42   0.23  4.1 0.71
## c2r_reversed 31446  0.65  0.60  0.19   0.10  3.6 0.95
## c3           31446  0.67  0.65  0.34   0.17  3.8 0.90
## 
## Non missing response frequency for each item
##                 1    2    3    4    5 miss
## c1           0.01 0.04 0.04 0.66 0.25    0
## c2r_reversed 0.03 0.18 0.07 0.65 0.07    0
## c3           0.01 0.12 0.08 0.63 0.15    0</code></pre>
<pre class="r"><code>pers$big5_con = rowMeans(conscientiousness)
qplot(pers$big5_con)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20pesonality%20data-2.png" width="672" /></p>
<pre class="r"><code>##Openness
openness = pers %&gt;% select(o1, o2, o3)
psych::alpha(data.frame(openness), check.keys = T)</code></pre>
<pre><code>## 
## Reliability analysis   
## Call: psych::alpha(x = data.frame(openness), check.keys = T)
## 
##   raw_alpha std.alpha G6(smc) average_r  S/N    ase mean   sd
##       0.45      0.45    0.35      0.21 0.81 0.0054  3.7 0.67
## 
##  lower alpha upper     95% confidence boundaries
## 0.43 0.45 0.46 
## 
##  Reliability if an item is dropped:
##    raw_alpha std.alpha G6(smc) average_r  S/N alpha se
## o1      0.30      0.30    0.18      0.18 0.43   0.0078
## o2      0.39      0.39    0.25      0.25 0.65   0.0068
## o3      0.35      0.36    0.22      0.22 0.55   0.0073
## 
##  Item statistics 
##        n raw.r std.r r.cor r.drop mean   sd
## o1 31446  0.71  0.71  0.45   0.30  3.7 0.98
## o2 31446  0.70  0.67  0.37   0.25  3.5 1.05
## o3 31446  0.65  0.69  0.41   0.27  4.0 0.88
## 
## Non missing response frequency for each item
##       1    2    3    4    5 miss
## o1 0.02 0.18 0.08 0.58 0.14    0
## o2 0.03 0.22 0.09 0.54 0.12    0
## o3 0.01 0.10 0.05 0.61 0.23    0</code></pre>
<pre class="r"><code>pers$big5_open = rowMeans(openness)
qplot(pers$big5_open)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20pesonality%20data-3.png" width="672" /></p>
<pre class="r"><code>## Neuroticism
pers$n1r_reversed = 6 - pers$n1r
pers$n2r_reversed = 6 - pers$n2r
neuroticism = pers %&gt;% select(n1r_reversed, n2r_reversed, n3)
pers$big5_neu = rowMeans(neuroticism)
qplot(pers$big5_neu)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20pesonality%20data-4.png" width="672" /></p>
<pre class="r"><code>##Agreeableness
pers$a3r_reversed = 6- pers$a3r
agreeableness= pers %&gt;% select(a1, a2, a3r_reversed)
pers$big5_agree = rowMeans(agreeableness)
qplot(pers$big5_agree)</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20pesonality%20data-5.png" width="672" /></p>
</div>
<div id="risk-preference" class="section level2">
<h2>Risk preference</h2>
<pre class="r"><code>###Risktaking
risk = b3a_si %&gt;% select(hhid14_9, pidlink, random_si, si01, si02, si03, si04, si05, si11, si12, si13, si14, si15)

## 8 means they didnt know which answer they would choose
risk$si01[ risk$si01 == 8] = NA
risk$si02[ risk$si02 == 8] = NA
risk$si03[ risk$si03 == 8] = NA
risk$si04[ risk$si04 == 8] = NA
risk$si05[ risk$si05 == 8] = NA
risk$si11[ risk$si11 == 8] = NA
risk$si12[ risk$si12 == 8] = NA
risk$si13[ risk$si13 == 8] = NA
risk$si14[ risk$si14 == 8] = NA
risk$si15[ risk$si15 == 8] = NA

## calculate a risk score for risk game A 
# (5 = gamble averse, Ordinalskala : 1 = risk loving, 4 = risk averse)
risk$riskA = ifelse(risk$si01 == 1 &amp; risk$si02 == 1, 5,
             ifelse(risk$si01 == 2 &amp; risk$si03 == 1 &amp; risk$si04 == 1, 4,
             ifelse(risk$si01 == 2 &amp; risk$si03 == 1 &amp; risk$si04 == 2, 3,
             ifelse(risk$si01 == 2 &amp; risk$si03 == 2 &amp; risk$si05 == 1, 2,
             ifelse(risk$si01 == 2 &amp; risk$si03 == 2 &amp; risk$si05 == 2, 1,
             NA)))))
qplot(risk$riskA[risk$riskA != 5])</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 3882 rows containing non-finite values (stat_bin).

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20risk%20taking%20data-1.png" width="672" /></p>
<pre class="r"><code>## calculate a risk score for risk game B 
# (5 = gamble averse, Ordinalskala : 1 = risk loving, 4 = risk averse)
risk$riskB = ifelse(risk$si11 == 2 &amp; risk$si12 == 1, 5,
             ifelse(risk$si11 == 1 &amp; risk$si13 == 1 &amp; risk$si14 == 1, 4,
             ifelse(risk$si11 == 1 &amp; risk$si13 == 1 &amp; risk$si14 == 2, 3,
             ifelse(risk$si11 == 1 &amp; risk$si13 == 2 &amp; risk$si15 == 1, 2,
             ifelse(risk$si11 == 1 &amp; risk$si13 == 2 &amp; risk$si15 == 2, 1,
             NA)))))
qplot(risk$riskB[risk$riskB !=5])</code></pre>
<pre><code>## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning in structure(NULL, class = &quot;waiver&quot;): Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 2084 rows containing non-finite values (stat_bin).

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.

## Warning: Calling &#39;structure(NULL, *)&#39; is deprecated, as NULL cannot have attributes.
##   Consider &#39;structure(list(), *)&#39; instead.</code></pre>
<p><img src="1_data_import_files/figure-html/select%20risk%20taking%20data-2.png" width="672" /></p>
<pre class="r"><code>psych::alpha(data.frame(risk %&gt;% select(riskA, riskB)), check.keys = T)</code></pre>
<pre><code>## Warning in matrix(unlist(drop.item), ncol = 8, byrow = TRUE): Datenlnge [12] ist kein Teiler oder Vielfaches
## der Anzahl der Spalten [8]</code></pre>
<pre><code>## 
## Reliability analysis   
## Call: psych::alpha(x = data.frame(risk %&gt;% select(riskA, riskB)), check.keys = T)
## 
##   raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd
##       0.29      0.33     0.2       0.2 0.5 0.0067  3.6 0.96
## 
##  lower alpha upper     95% confidence boundaries
## 0.28 0.29 0.3 
## 
##  Reliability if an item is dropped:
##       raw_alpha std.alpha G6(smc) average_r S/N alpha se
## riskA      0.20       0.2    0.04       0.2  NA       NA
## riskB      0.04       0.2      NA        NA 0.2   0.0025
## 
##  Item statistics 
##           n raw.r std.r r.cor r.drop mean   sd
## riskA 27780  0.90  0.77  0.35    0.2  3.4 1.51
## riskB 29578  0.64  0.77  0.35    0.2  3.9 0.82
## 
## Non missing response frequency for each item
##          1    2    3    4    5 miss
## riskA 0.19 0.12 0.11 0.24 0.33 0.12
## riskB 0.04 0.02 0.11 0.70 0.13 0.07</code></pre>
</div>
<div id="merge-data" class="section level2">
<h2>Merge data</h2>
<pre class="r"><code>### Merge all data for people with birthorder informations
alldata_birthorder = left_join(alldata_pregnancy, iq, by = &quot;pidlink&quot;)
alldata_birthorder = left_join(alldata_birthorder, pers, by = &quot;pidlink&quot;)
alldata_birthorder = left_join(alldata_birthorder, risk, by = &quot;pidlink&quot;)

alldata = left_join(individuals_unchanged, iq, by = &quot;pidlink&quot;)
alldata = left_join(alldata, pers, by = &quot;pidlink&quot;)
alldata = left_join(alldata, risk, by = &quot;pidlink&quot;)


### Which values are missing?
## All data
formr::missingness_patterns(alldata_birthorder %&gt;% select(raven, math, count_backwards, words_immediate, words_delayed, adaptive_numbering, big5_ext, riskA, riskB))</code></pre>
<pre><code>##  index                col missings
##      1              riskA    42913
##      2              riskB    42589
##      3 adaptive_numbering    42246
##      4              raven    42245
##      5               math    42245
##      6           big5_ext    42243
##      7    words_immediate    42234
##      8      words_delayed    42234
##      9    count_backwards    41527</code></pre>
<table style="width:67%;">
<colgroup>
<col width="27%" />
<col width="11%" />
<col width="27%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Pattern</th>
<th align="center">Freq</th>
<th align="center">Culprit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1_2_3_4_5_6_7_8_9</td>
<td align="center">41526</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">_________________</td>
<td align="center">5593</td>
<td align="center">_</td>
</tr>
<tr class="odd">
<td align="center">1_2_3_4_5_6_7_8__</td>
<td align="center">664</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">1________________</td>
<td align="center">617</td>
<td align="center">riskA</td>
</tr>
<tr class="odd">
<td align="center"><strong>2</strong>____________</td>
<td align="center">299</td>
<td align="center">riskB</td>
</tr>
<tr class="even">
<td align="center">1_2______________</td>
<td align="center">64</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">1_2_3_____6_7_8__</td>
<td align="center">29</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">______4_5________</td>
<td align="center">23</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">____3_4_5_6_7_8__</td>
<td align="center">12</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">1_____4_5________</td>
<td align="center">7</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">____3_4_5_6______</td>
<td align="center">5</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">1_2_3_____6______</td>
<td align="center">3</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">1_2_<strong>4_5</strong>______</td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center"><strong>2</strong><em>4_5</em>_______</td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">____3_4_5________</td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">____3_____6_7_8__</td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">1_<strong>3_4_5_6</strong>____</td>
<td align="center">1</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">____3_4_5_6_7_8_9</td>
<td align="center">1</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">____3____________</td>
<td align="center">1</td>
<td align="center">adaptive_numbering</td>
</tr>
</tbody>
</table>
<pre class="r"><code>## Intelligence
formr::missingness_patterns(alldata_birthorder %&gt;% select(raven, math, count_backwards, words_immediate, words_delayed, adaptive_numbering))</code></pre>
<pre><code>##  index                col missings
##      1 adaptive_numbering    42246
##      2              raven    42245
##      3               math    42245
##      4    words_immediate    42234
##      5      words_delayed    42234
##      6    count_backwards    41527</code></pre>
<table style="width:58%;">
<colgroup>
<col width="19%" />
<col width="11%" />
<col width="27%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Pattern</th>
<th align="center">Freq</th>
<th align="center">Culprit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1_2_3_4_5_6</td>
<td align="center">41527</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">___________</td>
<td align="center">6573</td>
<td align="center">_</td>
</tr>
<tr class="odd">
<td align="center">1_2_3_4_5__</td>
<td align="center">676</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center"><strong>2_3</strong>____</td>
<td align="center">34</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">1_____4_5__</td>
<td align="center">31</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">1_2_3______</td>
<td align="center">8</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">1__________</td>
<td align="center">4</td>
<td align="center">adaptive_numbering</td>
</tr>
</tbody>
</table>
<pre class="r"><code>##Personality
formr::missingness_patterns(alldata_birthorder %&gt;% select(big5_ext, big5_con, big5_open, big5_neu, big5_agree))</code></pre>
<pre><code>##  index        col missings
##      1   big5_ext    42243
##      2   big5_con    42243
##      3  big5_open    42243
##      4   big5_neu    42243
##      5 big5_agree    42243</code></pre>
<table style="width:40%;">
<colgroup>
<col width="16%" />
<col width="11%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Pattern</th>
<th align="center">Freq</th>
<th align="center">Culprit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1_2_3_4_5</td>
<td align="center">42243</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">_________</td>
<td align="center">6610</td>
<td align="center">_</td>
</tr>
</tbody>
</table>
<pre class="r"><code>##Risk
formr::missingness_patterns(alldata_birthorder %&gt;% select(riskA, riskB))</code></pre>
<pre><code>##  index   col missings
##      1 riskA    42913
##      2 riskB    42589</code></pre>
<table style="width:38%;">
<colgroup>
<col width="13%" />
<col width="11%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Pattern</th>
<th align="center">Freq</th>
<th align="center">Culprit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1_2</td>
<td align="center">42288</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">___</td>
<td align="center">5639</td>
<td align="center">_</td>
</tr>
<tr class="odd">
<td align="center">1__</td>
<td align="center">625</td>
<td align="center">riskA</td>
</tr>
<tr class="even">
<td align="center">__2</td>
<td align="center">301</td>
<td align="center">riskB</td>
</tr>
</tbody>
</table>
</div>
<div id="save-data" class="section level2">
<h2>Save data</h2>
<p>for future analyses</p>
<pre class="r"><code>alldata_birthorder = alldata_birthorder %&gt;% ungroup()
alldata = alldata %&gt;% ungroup()
pregnancy = pregnancy %&gt;% ungroup()

saveRDS(alldata_birthorder, file = &quot;data/alldata_birthorder.rds&quot;)
saveRDS(alldata, file = &quot;data/alldata.rds&quot;)
saveRDS(pregnancy, file = &quot;data/pregnancy.rds&quot;)</code></pre>
</div>
</div>

<div id="rmd-source-code">LS0tCm91dHB1dDoKICBodG1sX2RvY3VtZW50OgogICAgY29kZV9mb2xkaW5nOiAic2hvdyIKLS0tCgojICA8c3BhbiBzdHlsZT0iY29sb3I6I0ZDOEQ2MiI+RGF0YSBXcmFuZ2xpbmc8L3NwYW4+IHsudGFic2V0fQoKIyMgSGVscGVyCmBgYHtyIGhlbHBlcn0Kc291cmNlKCIwX2hlbHBlcnMuUiIpCmBgYAoKCiMjIEltcG9ydCBkYXRhIHsuYWN0aXZlfQoKQWxsIGRhdGEgaXMgcmV0cmlldmVkIGZyb20gdGhlIFtSQU5EIGZvdW5kYXRpb11uKGh0dHA6Ly93d3cucmFuZC5vcmcvbGFib3IvRkxTL0lGTFMuaHRtbCkgCmBgYHtyIEltcG9ydCBkYXRhfQojIyMgSW5mb3JtYXRpb25zIGFib3V0IGluZGl2aWR1YWxzIGxpdmluZyBpbiB0aGUgaG91c2Vob2xkIGluIDIwMTQvMjAxNQojIyBBbGwgSW5kaXZpZHVhbHMgbGl2aW5nIGluIHRoZSBob3VzZWhvbGQKYmtfYXIxID0gcmVhZF9kdGEoImRhdGEvaGgxNF9hbGxfZHRhL2JrX2FyMS5kdGEiKSAjIEJvb2sgSywgU2VjdGlvbiBhcgojIGNvbXB1dGUgZmF0aGVyIHBpZGxpbmsKYmtfYXIxID0gbGVmdF9qb2luKGJrX2FyMSwgYmtfYXIxICU+JSBzZWxlY3QoaGhpZDE0XzksIHBpZDE0LCBwaWRsaW5rKSAlPiUgcmVuYW1lKGFyMTAgPSBwaWQxNCwgZmF0aGVyX3BpZGxpbmsgPSBwaWRsaW5rKSwgYnkgPSBjKCJoaGlkMTRfOSIsICJhcjEwIikpCiMgY29tcHV0ZSBtb3RoZXIgcGlkbGluawpia19hcjEgPSBsZWZ0X2pvaW4oYmtfYXIxLCBia19hcjEgJT4lIHNlbGVjdChoaGlkMTRfOSwgcGlkMTQsIHBpZGxpbmspICU+JSByZW5hbWUoYXIxMSA9IHBpZDE0LCBtb3RoZXJfcGlkbGluayA9IHBpZGxpbmspLCBieSA9IGMoImhoaWQxNF85IiwgImFyMTEiKSkKCiMjIyBJbmZvcm1hdGlvbnMgZnJvbSBJRkxTIHdhdmUgNSB0byBsaW5rIGRhdGEgdG8gZWFybGllciB3YXZlczoKcHRyYWNrID0gcmVhZF9kdGEoImRhdGEvaGgxNF9hbGxfZHRhL3B0cmFjay5kdGEiKSAjIFRyYWtpbmcgaW5mb3JtYXRpb25zCgojIyMgUHJlZ25hbmN5IEluZm9ybWF0aW9ucyBmcm9tIG1vdGhlcgojIyBXYXZlIDUgLSAyMDE0Cnc1X3ByZWduYW5jeSA9IHJlYWRfZHRhKCJkYXRhL2hoMTRfYWxsX2R0YS9iNF9jaDEuZHRhIikgIyBCb29rIDQsIFNlY3Rpb24gY2gKIyMgV2F2ZSA0IC0gMjAwNwp3NF9wcmVnbmFuY3kgPSByZWFkX2R0YSgiZGF0YS9oaDA3X2FsbF9kdGEvYjRfY2gxLmR0YSIpICMgQm9vayA0LCBTZWN0aW9uIGNoCiMjIFdhdmUgMyAtIDIwMDAKdzNfcHJlZ25hbmN5ID0gcmVhZF9kdGEoImRhdGEvaGgwMF9hbGxfZHRhL2I0X2NoMS5kdGEiKSAjIEJvb2sgNCwgU2VjdGlvbiBjaAojIyBXYXZlIDIgLSAxOTk3CncyX3ByZWduYW5jeSA9IHJlYWRfZHRhKCJkYXRhL2hoOTdkdGEvYjRfY2gxLmR0YSIpICMgQm9vayA0LCBTZWN0aW9uIGNoCiMjIFdhdmUgMSAtIDE5OTMKdzFfcHJlZ25hbmN5ID0gcmVhZF9kdGEoImRhdGEvaGg5M2R0YS9idWs0Y2gxLmR0YSIpICMgQm9vayA0LCBTZWN0aW9uIGNoCgojIyMgTWFycmlhZ2UgaW5mb3JtYXRpb24gZnJvbSBtb3RoZXIKIyMgV2F2ZSA1IC0gMjAxNAp3NV9tYXJyaWFnZT0gcmVhZF9kdGEoImRhdGEvaGgxNF9hbGxfZHRhL2I0X2t3My5kdGEiKSAjIEJvb2sgNCwgU2VjdGlvbiBrdzMKIyMgV2F2ZSA0IC0gMjAwNwp3NF9tYXJyaWFnZSA9IHJlYWRfZHRhKCJkYXRhL2hoMDdfYWxsX2R0YS9iNF9rdzIuZHRhIikgIyBCb29rIDQsIFNlY3Rpb24ga3cyCiMjIFdhdmUgMyAtIDIwMDAKdzNfbWFycmlhZ2UgPSByZWFkX2R0YSgiZGF0YS9oaDAwX2FsbF9kdGEvYjRfa3czLmR0YSIpICMgQm9vayA0LCBTZWN0aW9uIGt3MwojIyBXYXZlIDIgLSAxOTk3CncyX21hcnJpYWdlID0gcmVhZF9kdGEoImRhdGEvaGg5N2R0YS9iNF9rdzIuZHRhIikgIyBCb29rIDQsIFNlY3Rpb24ga3cyCiMjIFdhdmUgMSAtIDE5OTMKdzFfbWFycmlhZ2UgPSByZWFkX2R0YSgiZGF0YS9oaDkzZHRhL2J1azRrdzIuZHRhIikgIyBCb29rIDQsIFNlY3Rpb24ga3cyCgojIyBBZGRpdGlvbmFsIG1hcnJpYWdlIGluZm9ybWF0aW9uIGZyb20gbW90aGVyCiMgV2F2ZSA1IC0gMjAxNAp3NV9tYXJyaWFnZV9hZGRpdGlvbmFsID0gcmVhZF9kdGEoImRhdGEvaGgxNF9hbGxfZHRhL2I0X2Nvdi5kdGEiKSAjIEJvb2sgNCwgU2VjdGlvbiBjb3YKIyBXYXZlIDQgLSAyMDA3Cnc0X21hcnJpYWdlX2FkZGl0aW9uYWwgPSByZWFkX2R0YSgiZGF0YS9oaDA3X2FsbF9kdGEvYjRfY292LmR0YSIpICMgQm9vayA0LCBTZWN0aW9uIGNvdgojIFdhdmUgMyAtIDIwMDAKdzNfbWFycmlhZ2VfYWRkaXRpb25hbCA9IHJlYWRfZHRhKCJkYXRhL2hoMDBfYWxsX2R0YS9iNF9jb3YuZHRhIikgIyBCb29rIDQsIFNlY3Rpb24gY292CiMgV2F2ZSAyIC0gMTk5Nwp3Ml9tYXJyaWFnZV9hZGRpdGlvbmFsID0gcmVhZF9kdGEoImRhdGEvaGg5N2R0YS9iNF9jb3YuZHRhIikgIyBCb29rIDQsIFNlY3Rpb24gY292CiMgV2F2ZSAxIC0gMTk5Mwp3MV9tYXJyaWFnZV9hZGRpdGlvbmFsID0gcmVhZF9kdGEoImRhdGEvaGg5M2R0YS9idWtrYXIyLmR0YSIpICMgQm9vayBLLCBTZWN0aW9uIGFyLCBob3VzZWhvbGQgcm9hc3RlcgoKIyMjIElRIEluZm9ybWF0aW9uCmVrX2VrMiA9IHJlYWRfZHRhKCJkYXRhL2hoMTRfYWxsX2R0YS9la19lazIuZHRhIikgIyBCb29rIGVrMgojIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gKGNvdW50aW5nIGJhY2t3YXJkcywgYWRhcHRpdmUgdGVzdGluZykgZm9yIGFkdWx0cwpiM2JfY29iID0gcmVhZF9kdGEoImRhdGEvaGgxNF9hbGxfZHRhL2IzYl9jb2IuZHRhIikgIyBCb29rIDNiLCBTZWN0aW9uIGNvYgpiM2JfY28xID0gcmVhZF9kdGEoImRhdGEvaGgxNF9hbGxfZHRhL2IzYl9jbzEuZHRhIikgIyBCb29rIDNiLCBTZWN0aW9uIGNvMQojIyMgUGVyc29uYWxpdHkgSW5mb3JtYXRpb24gKG9ubHkgZm9yIGFkdWx0cykKYjNiX3BzbiA9IHJlYWRfZHRhKCJkYXRhL2hoMTRfYWxsX2R0YS9iM2JfcHNuLmR0YSIpICMgQm9vayAzYiwgU2VjdGlvbiBwc24KCiMjIyBSaXNrIHRha2luZwpiM2Ffc2kgPSByZWFkX2R0YSgiZGF0YS9oaDE0X2FsbF9kdGEvYjNhX3NpLmR0YSIpICMgQm9vayAzYiwgU2VjdGlvbiBzaQoKYGBgCgojIyBCaXJ0aCBvcmRlciBpbmZvcm1hdGlvbiB7LnRhYnNldH0KIyMjIEluZm9ybWF0aW9uIGFib3V0IHByZWduYW5jeQpgYGB7cn0KIyMgU2VsZWN0IGRhdGEKdzVfcHJlZ25hbmN5ID0gdzVfcHJlZ25hbmN5ICU+JSBzZWxlY3QocGlkbGluaywgY2gwNSwgY2gwNiwgY2gwNmEsIGNoMDgsIGNoMDlkYXksIGNoMDltdGgsIGNoMDl5ciwgY2gyNSkKdzRfcHJlZ25hbmN5ID0gdzRfcHJlZ25hbmN5ICU+JSBzZWxlY3QocGlkbGluaywgY2gwNSwgY2gwNiwgY2gwNmEsIGNoMDgsIGNoMDlkYXksIGNoMDltdGgsIGNoMDl5ciwgY2gyNSkKdzNfcHJlZ25hbmN5ID0gdzNfcHJlZ25hbmN5ICU+JSBzZWxlY3QocGlkbGluaywgY2gwNSwgY2gwNiwgY2gwNmEsIGNoMDgsIGNoMDlkYXksIGNoMDltdGgsIGNoMDl5ciwgY2gyNSkKdzJfcHJlZ25hbmN5ID0gdzJfcHJlZ25hbmN5ICU+JSBzZWxlY3QocGlkbGluaywgY2gwNSwgY2gwNiwgY2gwNmEsIGNoMDgsIGNoMDlkYXksIGNoMDltdGgsIGNoMDl5ciwgY2gyNSkKdzFfcHJlZ25hbmN5ID0gdzFfcHJlZ25hbmN5ICU+JSAKICBncm91cF9ieShwaWRsaW5rLCBjaDA0KSAlPiUgbXV0YXRlKGNoMDZhID0gaWZfZWxzZSghaXMubmEocGlkbGluaykgJiAhaXMubmEoY2gwNCksIGlmX2Vsc2UoIG4oKSA+IDEsIDEsIDMpLCA5KSkgJT4lCiAgdW5ncm91cCgpICU+JSAKICBzZWxlY3QocGlkbGluaywgY2gwNSwgY2gwNiwgY2gwNmEsIGNoMDgsIGNoMDlkYXksIGNoMDltdGgsIGNoMDl5ciwgY2gyNSkgJT4lIAojIEluIHRoZSBmaXJzdCB3YXZlIHRoZSB5ZWFyIGlzIG5hbWVkIHdyb25nCiAgbXV0YXRlKGNoMDl5ciA9IGlmZWxzZShjaDA5eXIgPD0gOTMsIGNoMDl5ciwgTkEpLAogICAgICAgICAgY2gwOXlyID0gYXMubnVtZXJpYyhzdHJfYygiMTkiLCBjaDA5eXIpKSkKCiMjIENvbWJpbmUgZGF0YQpwcmVnbmFuY3kgPSBiaW5kX3Jvd3ModzEgPSB3MV9wcmVnbmFuY3ksIHcyID0gdzJfcHJlZ25hbmN5LCB3MyA9IHczX3ByZWduYW5jeSwgdzQgPSB3NF9wcmVnbmFuY3ksIHc1ID0gdzVfcHJlZ25hbmN5LCAuaWQgPSAid2F2ZSIpCgojIyBSZW5hbWUgVmFyaWFibGVzCnByZWduYW5jeSA9IHByZWduYW5jeSAlPiUgcmVuYW1lKGNocm9uX29yZGVyX2JpcnRoID0gY2gwNSwgbGlmZWJpcnRocyA9IGNoMDYsIG11bHRpcGxlX2JpcnRoID0gY2gwNmEsIGdlbmRlciA9IGNoMDgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpcnRoX2RheSA9IGNoMDlkYXksIGJpcnRoX21vbnRoID0gY2gwOW10aCwgYmlydGhfeWVhciA9IGNoMDl5ciwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdGhlcl9waWRsaW5rID0gcGlkbGluaywgYWxpdmUgPSBjaDI1KSAjIHByZWduYW5jeSRsaWZlYmlydGhzIHZhbHVlczogMSA9IHN0aWxsIHByZWduYW50LCAyID0gbGl2ZWJpcnRoLCAzID0gc3RpbGwgYmlydGgsIDQgPSBtaXNzY2FycmlhZ2UKCiMjIFNldCB2YWx1ZXMgYXMgTkEgdGhhdCBhcmUgbWlzc2luZwpwcmVnbmFuY3kgPSBwcmVnbmFuY3kgJT4lCiAgbXV0YXRlKGJpcnRoX2RheSA9IGlmZWxzZShiaXJ0aF9kYXk+MzEsIE5BLCBiaXJ0aF9kYXkpLAogICAgICAgICBiaXJ0aF9tb250aCA9IGlmZWxzZShiaXJ0aF9tb250aD4xMiwgTkEsIGJpcnRoX21vbnRoKSwKICAgICAgICAgYmlydGhfeWVhciA9IGlmZWxzZShiaXJ0aF95ZWFyPjIwMTYsIE5BLCBiaXJ0aF95ZWFyKSwKICAgICAgICAgYmlydGhfZGF5ID0gaWZlbHNlKGlzLm5hbihiaXJ0aF9kYXkpLCBOQSwgYmlydGhfZGF5KSwKICAgICAgICAgYmlydGhfbW9udGggPSBpZmVsc2UoaXMubmFuKGJpcnRoX21vbnRoKSwgTkEsIGJpcnRoX21vbnRoKSwKICAgICAgICAgYmlydGhfeWVhciA9IGlmZWxzZShpcy5uYW4oYmlydGhfeWVhciksIE5BLCBiaXJ0aF95ZWFyKSwKICAgICAgICAgbXVsdGlwbGVfYmlydGggPSBpZmVsc2UobXVsdGlwbGVfYmlydGggPT0gOSwgTkEsIG11bHRpcGxlX2JpcnRoKSwKICAgICAgICAgbXVsdGlwbGVfYmlydGggPSBpZmVsc2UoaXMubmFuKG11bHRpcGxlX2JpcnRoKSwgTkEsIG11bHRpcGxlX2JpcnRoKSkKCnByZWduYW5jeSRtb250aCA9IHBhc3RlMChwcmVnbmFuY3kkYmlydGhfeWVhciwiLSIsIGlmZWxzZShpcy5uYShwcmVnbmFuY3kkYmlydGhfbW9udGgpLCAiMDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkX21vbnRoKHByZWduYW5jeSRiaXJ0aF9tb250aCkpKQoKcHJlZ25hbmN5ID0gcHJlZ25hbmN5ICU+JQogIG11dGF0ZShiaXJ0aGRhdGUgPSBhbGxfYXZhaWxhYmxlX2luZm9fYmlydGhfZGF0ZShiaXJ0aF95ZWFyLCBiaXJ0aF9tb250aCwgYmlydGhfZGF5KSwKICAgICAgICAgbW90aGVyX2JpcnRoZGF0ZSA9IHN0cl9jKG1vdGhlcl9waWRsaW5rLCAiLSIsIGJpcnRoZGF0ZSkpCgoKcHJlZ25hbmN5ID0gcHJlZ25hbmN5ICU+JSAKICBtdXRhdGUod2F2ZV9kdXAgPSA2IC0gc3RyX3N1Yih3YXZlLCAyLCAzKSAlPiUgYXMubnVtZXJpYygpKSAlPiUgIyBmcm9tIG1vc3QgcmVjZW50IHdhdmUgdG8gb2xkZXN0CiAgYXJyYW5nZSh3YXZlX2R1cCkgJT4lICMgdXNlIG1vc3QgcmVjZW50IHdhdmUgKGJlY2F1c2UgdGhlc2Ugd2lsbCBoYXZlIHByZWduYW5jeSBvdXRjb21lcykKICBncm91cF9ieShtb3RoZXJfYmlydGhkYXRlKSAlPiUgCiAgbXV0YXRlKGR1cGVkX2luX2VhcmxpZXJfd2F2ZSA9IG1pbl9yYW5rKHdhdmVfZHVwKSkgJT4lIAogIGZpbHRlcihkdXBlZF9pbl9lYXJsaWVyX3dhdmUgPT0gMSkgJT4lIAogIHVuZ3JvdXAoKSAjIGVsaW1pbmF0ZSBkdXBlcyBhY3Jvc3Mgd2F2ZXMgKHNhbWUgbW90aGVyX2JpcnRoZGF0ZSksIGtlZXAgbXVsdCBiaXJ0aHMKCnggPSAodW5pcXVlKHByZWduYW5jeSRtb3RoZXJfcGlkbGluaykpCgojI3JlbW92ZSBhbGwgd2l0aCBtaXNzaW5nIGJpcnRoZGF0ZS9taXNjYXJyaWFnZSBkYXRlCnRhYmxlKGlzLm5hKHByZWduYW5jeSRiaXJ0aGRhdGUpKQpwcmVnbmFuY3kgPSBwcmVnbmFuY3kgJT4lCiAgZmlsdGVyKCFpcy5uYShiaXJ0aGRhdGUpKQoKCiMgZm9yIHdoYXRldmVyIHJlYXNvbiB0aGVyZSBhcmUgc29tZSBtdWx0aXBsZSBiaXJ0aHMgd2l0aCBqdXN0IG9uZSByb3cgaW4gdGhlIGRhdGEgCnByZWduYW5jeSAlPiUgZ3JvdXBfYnkobW90aGVyX2JpcnRoZGF0ZSkgJT4lIG11dGF0ZShtdWx0ID0gbigpKSAlPiUgY3Jvc3N0YWJzKH4gbXVsdCArIG11bHRpcGxlX2JpcnRoLCBkYXRhID0gLikKCiMjIEZvcm0gdmFyaWFibGUgZm9yIGFueSBtdWx0aXBsZSBiaXJ0aCBpbiBmYW1pbHkKcHJlZ25hbmN5ID0gcHJlZ25hbmN5ICU+JSBncm91cF9ieShtb3RoZXJfcGlkbGluaykgJT4lIG11dGF0ZShhbnlfbXVsdGlwbGVfYmlydGggPSBpZl9lbHNlKGFueShtdWx0aXBsZV9iaXJ0aCA9PSAxKSwgMSwgMCkpCnByb3AudGFibGUodGFibGUocHJlZ25hbmN5JG11bHRpcGxlX2JpcnRoKSkKcHJvcC50YWJsZSh0YWJsZShwcmVnbmFuY3kkYW55X211bHRpcGxlX2JpcnRoKSkKYGBgCgojIyMgSW5mb3JtYXRpb24gYWJvdXQgbWFycmlhZ2UgaGlzdG9yeQpgYGB7ciBtYXJyaWFnZSBoaXN0b3J5fQojIyBTZWxlY3QgbWFycmlhZ2UgZGF0YQp3NV9tYXJyaWFnZSA9IHc1X21hcnJpYWdlICU+JSBzZWxlY3QocGlkbGluaywga3cxMG10aCwga3cxMHlyLCBrdzE4bXRoLCBrdzE4eXIsIGt3MTEsIGt3MTkpCnc0X21hcnJpYWdlID0gdzRfbWFycmlhZ2UgJT4lIHNlbGVjdChwaWRsaW5rLCBrdzEwbXRoLCBrdzEweXIsIGt3MThtdGgsIGt3MTh5ciwga3cxMSwga3cxOSkKdzNfbWFycmlhZ2UgPSB3M19tYXJyaWFnZSAlPiUgc2VsZWN0KHBpZGxpbmssIGt3MTBtdGgsIGt3MTB5ciwga3cxOG10aCwga3cxOHlyLCBrdzExLCBrdzE5KQp3Ml9tYXJyaWFnZSA9IHcyX21hcnJpYWdlICU+JSBzZWxlY3QocGlkbGluaywga3cxMG10aCwga3cxMHlyLCBrdzE4bXRoLCBrdzE4eXIsIGt3MTEsIGt3MTkpCncxX21hcnJpYWdlID0gdzFfbWFycmlhZ2UgJT4lIHNlbGVjdChwaWRsaW5rLCBrdzA1YSwga3cwNWIsIGt3MTNhLCBrdzEzYiwga3cwNiwga3cxNGFnZSkKIyBJbiB0aGUgZmlyc3Qgd2F2ZSB0aGUgeWVhciBpcyBuYW1lZCB3cm9uZwp3MV9tYXJyaWFnZSA9IHcxX21hcnJpYWdlICU+JQogIG11dGF0ZShrdzA1YSA9IGlmZWxzZShrdzA1YSA8PSA5MywgYXMubnVtZXJpYyhzdHJfYygiMTkiLCB3MV9tYXJyaWFnZSRrdzA1YSkpLCBrdzA1YSksCiAgICAgICAgIGt3MTNhID0gaWZlbHNlKGt3MTNhIDw9OTMgLCBhcy5udW1lcmljKHN0cl9jKCIxOSIsIHcxX21hcnJpYWdlJGt3MTNhKSksIGt3MTNhKSkKIyBBbmQgdGhlIGNvbHVtbiBuYW1lcyBhcmUgd3JvbmcuLi4KdzFfbWFycmlhZ2UgPSB3MV9tYXJyaWFnZSAlPiUgcmVuYW1lKGt3MTBtdGggPSBrdzA1Yiwga3cxMHlyID0ga3cwNWEsIGt3MThtdGggPSBrdzEzYiwga3cxOHlyID0ga3cxM2EsIGt3MTEgPSBrdzA2LCBrdzE5ID0ga3cxNGFnZSkKCiMjIFNlbGVjdCBhZGRpdGlvbmFsIG1hcnJpYWdlIGluZm9ybWF0aW9uIChhZ2Ugb2YgcmVzcG9uZGVudCkKdzVfbWFycmlhZ2VfYWRkaXRpb25hbCA9IHc1X21hcnJpYWdlX2FkZGl0aW9uYWwgJT4lIHNlbGVjdChwaWRsaW5rLCBhZ2UsIGRvYl95cikKdzRfbWFycmlhZ2VfYWRkaXRpb25hbCA9IHc0X21hcnJpYWdlX2FkZGl0aW9uYWwgJT4lIHNlbGVjdChwaWRsaW5rLCBhZ2UsIGRvYl95cikKdzNfbWFycmlhZ2VfYWRkaXRpb25hbCA9IHczX21hcnJpYWdlX2FkZGl0aW9uYWwgJT4lIHNlbGVjdChwaWRsaW5rLCBhZ2UsIGRvYl95cikKdzJfbWFycmlhZ2VfYWRkaXRpb25hbCA9IHcyX21hcnJpYWdlX2FkZGl0aW9uYWwgJT4lIHNlbGVjdChwaWRsaW5rLCBhZ2UsIGRvYl95cikKdzFfbWFycmlhZ2VfYWRkaXRpb25hbCA9IHcxX21hcnJpYWdlX2FkZGl0aW9uYWwgJT4lIHNlbGVjdChwaWRsaW5rLCBhcjA5eXIsIGFyMDh5cikKIyBJbiB0aGUgZmlyc3Qgd2F2ZSB0aGUgeWVhciBpcyBuYW1lZCB3cm9uZwp3MV9tYXJyaWFnZV9hZGRpdGlvbmFsID0gdzFfbWFycmlhZ2VfYWRkaXRpb25hbCAlPiUKICBtdXRhdGUoYXIwOHlyID0gaWZlbHNlKGFyMDh5ciA8PSA5MywgCiAgICAgICAgICAgICAgICAgICAgICAgICBhcy5udW1lcmljKHN0cl9jKCIxOSIsIHcxX21hcnJpYWdlX2FkZGl0aW9uYWwkYXIwOHlyKSksCiAgICAgICAgICAgICAgICAgICAgICAgICBhcjA4eXIpKQojIEFuZCB0aGUgY29sdW1uIG5hbWVzIGFyZSB3cm9uZy4uLgp3MV9tYXJyaWFnZV9hZGRpdGlvbmFsID0gdzFfbWFycmlhZ2VfYWRkaXRpb25hbCAlPiUgcmVuYW1lKGFnZSA9IGFyMDl5ciwgZG9iX3lyID0gYXIwOHlyKQoKIyMgQ29tYmluZSBtYXJyaWFnZSBpbmZvcm1hdGlvbiBhbmQgYWRkaXRpb25hbCBtYXJyaWFnZSBpbmZvcm1hdGlvbjoKdzFfbWFycmlhZ2UgPSBsZWZ0X2pvaW4odzFfbWFycmlhZ2UsIHcxX21hcnJpYWdlX2FkZGl0aW9uYWwsIGJ5ID0gInBpZGxpbmsiKSAlPiUKICBtdXRhdGUod2F2ZSA9IGFzLm51bWVyaWMoIjE5OTMiKSkKdzJfbWFycmlhZ2UgPSBsZWZ0X2pvaW4odzJfbWFycmlhZ2UsIHcyX21hcnJpYWdlX2FkZGl0aW9uYWwsIGJ5ID0gInBpZGxpbmsiKSAlPiUKICBtdXRhdGUod2F2ZSA9IGFzLm51bWVyaWMoIjE5OTciKSkKdzNfbWFycmlhZ2UgPSBsZWZ0X2pvaW4odzNfbWFycmlhZ2UsIHczX21hcnJpYWdlX2FkZGl0aW9uYWwsIGJ5ID0gInBpZGxpbmsiKSAgJT4lCiAgbXV0YXRlKHdhdmUgPSBhcy5udW1lcmljKCIyMDAwIikpCnc0X21hcnJpYWdlID0gbGVmdF9qb2luKHc0X21hcnJpYWdlLCB3NF9tYXJyaWFnZV9hZGRpdGlvbmFsLCBieSA9ICJwaWRsaW5rIikgJT4lCiAgbXV0YXRlKHdhdmUgPSBhcy5udW1lcmljKCIyMDA3IikpCnc1X21hcnJpYWdlID0gbGVmdF9qb2luKHc1X21hcnJpYWdlLCB3NV9tYXJyaWFnZV9hZGRpdGlvbmFsLCBieSA9ICJwaWRsaW5rIikgJT4lCiAgbXV0YXRlKHdhdmUgPSBhcy5udW1lcmljKCIyMDE0IikpCgojIyBDb21iaW5lIG1hcnJpYWdlIGluZm9ybWF0aW9ucwptYXJyaWFnZSA9IGJpbmRfcm93cyh3MV9tYXJyaWFnZSwgdzJfbWFycmlhZ2UsIHczX21hcnJpYWdlLCB3NF9tYXJyaWFnZSwgdzVfbWFycmlhZ2UpCgojIFJlbmFtZSBjb2x1bW5zCm1hcnJpYWdlID0gbWFycmlhZ2UgJT4lIHJlbmFtZShzdGFydF95ZWFyID0ga3cxMHlyLCBzdGFydF9tb250aCA9IGt3MTBtdGgsIGVuZF95ZWFyID0ga3cxOHlyLCBlbmRfbW9udGggPSBrdzE4bXRoLCBzdGFydF9hZ2UgPSBrdzExLCBlbmRfYWdlID0ga3cxOSwgYmlydGhfeWVhciA9IGRvYl95ciwgYmlydGhfYWdlID0gYWdlKQoKCiMgU2V0IHZhbHVlcyBhcyBOQSB0aGF0IGFyZSBtaXNzaW5nCm1hcnJpYWdlJHN0YXJ0X3llYXJbIG1hcnJpYWdlJHN0YXJ0X3llYXI8MTkwMF0gPSBOQQptYXJyaWFnZSRzdGFydF95ZWFyWyBtYXJyaWFnZSRzdGFydF95ZWFyPjIwMTZdID0gTkEKbWFycmlhZ2Ukc3RhcnRfeWVhclsgaXMubmFuKG1hcnJpYWdlJHN0YXJ0X3llYXIpXSA9IE5BCm1hcnJpYWdlJGVuZF95ZWFyWyBtYXJyaWFnZSRlbmRfeWVhcjwxOTAwXSA9IE5BCm1hcnJpYWdlJGVuZF95ZWFyWyBtYXJyaWFnZSRlbmRfeWVhcj4yMDE2XSA9IE5BCm1hcnJpYWdlJGVuZF95ZWFyWyBpcy5uYW4obWFycmlhZ2UkZW5kX3llYXIpXSA9IE5BCm1hcnJpYWdlJHN0YXJ0X21vbnRoIFttYXJyaWFnZSRzdGFydF9tb250aD4xMl0gPSBOQQptYXJyaWFnZSRzdGFydF9tb250aCBbaXMubmFuKG1hcnJpYWdlJHN0YXJ0X21vbnRoKV0gPSBOQQptYXJyaWFnZSRlbmRfbW9udGggW21hcnJpYWdlJGVuZF9tb250aD4xMl0gPSBOQQptYXJyaWFnZSRlbmRfbW9udGggW2lzLm5hbihtYXJyaWFnZSRlbmRfbW9udGgpXSA9IE5BCm1hcnJpYWdlJHN0YXJ0X2FnZSBbbWFycmlhZ2Ukc3RhcnRfYWdlID4gOTddID0gTkEKbWFycmlhZ2Ukc3RhcnRfYWdlIFtpcy5uYW4obWFycmlhZ2Ukc3RhcnRfYWdlKV0gPSBOQQptYXJyaWFnZSRlbmRfYWdlIFttYXJyaWFnZSRlbmRfYWdlID4gOTddID0gTkEKbWFycmlhZ2UkZW5kX2FnZSBbaXMubmFuKG1hcnJpYWdlJGVuZF9hZ2UpXSA9IE5BCm1hcnJpYWdlJGJpcnRoX3llYXJbIG1hcnJpYWdlJGJpcnRoX3llYXI8MTkwMF0gPSBOQQptYXJyaWFnZSRiaXJ0aF95ZWFyWyBtYXJyaWFnZSRiaXJ0aF95ZWFyPjIwMTZdID0gTkEKbWFycmlhZ2UkYmlydGhfeWVhclsgaXMubmFuKG1hcnJpYWdlJGJpcnRoX3llYXIpXSA9IE5BCm1hcnJpYWdlJGJpcnRoX2FnZSBbbWFycmlhZ2UkYmlydGhfYWdlID4gOTddID0gTkEKbWFycmlhZ2UkYmlydGhfYWdlIFtpcy5uYW4obWFycmlhZ2UkYmlydGhfYWdlKV0gPSBOQQoKIyMgUmVjb25zdHJ1Y3QgbWFycmlhZ2Ugc3RhcnQgeWVhciBhbmQgZW5kIHllYXIgZm9yIG1hcnJpYWdlcyB3aXRoIG1pc3NpbmcgeWVhcgptYXJyaWFnZSA9IG1hcnJpYWdlICU+JQogIG11dGF0ZShiaXJ0aF95ZWFyID0gaWZlbHNlKGlzLm5hKGJpcnRoX3llYXIpLCB3YXZlIC0gYmlydGhfYWdlLCBiaXJ0aF95ZWFyKSwKICAgICAgICAgc3RhcnRfeWVhciA9IGlmZWxzZShpcy5uYShzdGFydF95ZWFyKSwgYmlydGhfeWVhciArIHN0YXJ0X2FnZSwgc3RhcnRfeWVhciksCiAgICAgICAgIGVuZF95ZWFyID0gaWZlbHNlKGlzLm5hKGVuZF95ZWFyKSwgYmlydGhfeWVhciArIGVuZF9hZ2UsIGVuZF95ZWFyKSkKCgptYXJyaWFnZSA9IG1hcnJpYWdlICU+JSBhcnJhbmdlKHBpZGxpbmssIHN0YXJ0X3llYXIsIHN0YXJ0X21vbnRoLCBzdGFydF9hZ2UsIGVuZF95ZWFyLCBlbmRfbW9udGgsIGVuZF9hZ2UpCgptYXJyaWFnZSA9IG1hcnJpYWdlICU+JSBmaWx0ZXIoIWR1cGxpY2F0ZWQoY2JpbmQocGlkbGluaywgc3RhcnRfeWVhciwgc3RhcnRfbW9udGgpKSB8IGlzLm5hKHN0YXJ0X3llYXIpIHwgaXMubmEoc3RhcnRfbW9udGgpKSAjIG5vYm9keSBnZXRzIG1hcnJpZWQgdHdpY2Ugb24gdGhlIHNhbWUgZGF5LCByaWdodD8gc28gdGhlc2UgYXJlIGR1cGVzLgoKIyMgQ2FsY3VsYXRlIGRhdGUgZm9yIGJlZ2lubmluZyBvZiBtYXJyaWFnZToKbWFycmlhZ2UgPSBtYXJyaWFnZSAlPiUgCiAgdW5ncm91cCgpICU+JQogIG11dGF0ZShzdGFydF9zdHJpbmcgPSBzdHJfYyhzdGFydF95ZWFyLCAiLSIsIGlmZWxzZShpcy5uYShzdGFydF9tb250aCksICIwMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZF9tb250aChzdGFydF9tb250aCkpLCAiLTAxIiksCiAgICAgICAgZW5kX3N0cmluZyA9IHN0cl9jKGVuZF95ZWFyLCAiLSIsIGlmZWxzZShpcy5uYShlbmRfbW9udGgpLCAiMTIiLCBwYWRfbW9udGgoZW5kX21vbnRoKSksICItMDEiKSwKICAgICAgICBzdGFydCA9IHltZChzdGFydF9zdHJpbmcpLAogICAgICAgIGVuZCA9IHltZChlbmRfc3RyaW5nKSArIG1vbnRocygxKSAtIGRheXMoMSkpCgojIyBDb3VudCBudW1iZXIgb2YgbWFycmlhZ2VzCm1hcnJpYWdlID0gbWFycmlhZ2UgJT4lCiAgYXJyYW5nZShwaWRsaW5rLCBzdGFydCwgZW5kKSAlPiUKICBncm91cF9ieShwaWRsaW5rKSAlPiUKICBtdXRhdGUobnVtYmVyX21hcnJpYWdlcyA9IG4oKSwKICAgICAgICAgb3JkZXJfbWFycmlhZ2UgPSByb3dfbnVtYmVyKCksCiAgICAgICAgIG1hcnJpYWdlX2lkID0gcGFzdGUwKHBpZGxpbmssICJfIiwgYXMuY2hhcmFjdGVyKG9yZGVyX21hcnJpYWdlKSwgIl8iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcy5jaGFyYWN0ZXIoc3RhcnQpLCAiLyIsYXMuY2hhcmFjdGVyKGVuZCkpKQoKIyMjIE1hcnJpYWdlIFRpbWVsaW5lCm1pbmltdW1fc3RhcnQgPSBtaW4oeW1kKHN0cl9jKHByZWduYW5jeSRtb250aCwgIi0wMSIpKSwgbmEucm0gPSBUKQptYXhpbXVtX2VuZCA9IG1heCh5bWQoc3RyX2MocHJlZ25hbmN5JG1vbnRoLCAiLTAxIikpLCBuYS5ybSA9IFQpCm1hcnJpYWdlX3RpbWVsaW5lID0gbWFycmlhZ2UgJT4lCiAgICBtdXRhdGUoaW1wbGllZF9zdGFydCA9IGFzLkRhdGUoaWZlbHNlKGlzLm5hKHN0YXJ0KSwgbWluaW11bV9zdGFydCAsIHN0YXJ0KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW49IjE5NzAtMDEtMDEiKSwKICAgICAgICAgICBpbXBsaWVkX2VuZCA9IGFzLkRhdGUoaWZlbHNlKGlzLm5hKGVuZCksIG1heGltdW1fZW5kICwgZW5kKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luPSIxOTcwLTAxLTAxIikpICU+JQogIGZpbHRlcihpbXBsaWVkX3N0YXJ0IDwgaW1wbGllZF9lbmQpCgptYXJyaWFnZV90aW1lbGluZSA9IG1hcnJpYWdlX3RpbWVsaW5lICU+JQogICAgcm93d2lzZSgpICU+JQogICAgZG8oZGF0YS5mcmFtZSgKICAgICAgICBtYXJyaWFnZV9pZD0uJG1hcnJpYWdlX2lkLCAKICAgICAgICBtb3RoZXJfcGlkbGluayA9IC4kcGlkbGluaywKICAgICAgICBvcmRlcl9tYXJyaWFnZSA9IC4kb3JkZXJfbWFycmlhZ2UsCiAgICAgICAgc3RhcnQgPSAuJHN0YXJ0LAogICAgICAgIGVuZCA9IC4kZW5kLAogICAgICAgIG1vbnRoID0gc2VxKC4kaW1wbGllZF9zdGFydCwuJGltcGxpZWRfZW5kLCBieT0iMSBtb250aCIpICkpCgojIG5vIGR1cGxpY2F0ZSBtb3RoZXJfaWQgLSBtb250aCBjb21iaW5hdGlvbnMgKG5vIHR3byBtYXJyaWFnZXMgYXQgdGhlIHNhbWUgdGltZSkKbWFycmlhZ2VfdGltZWxpbmUgPSBtYXJyaWFnZV90aW1lbGluZSAlPiUgCiAgYXJyYW5nZShtb3RoZXJfcGlkbGluaywgc3RhcnQsIGVuZCkgJT4lIAogIGRpc3RpbmN0KG1vdGhlcl9waWRsaW5rLCBtb250aCwgLmtlZXBfYWxsID0gVFJVRSkKCm1hcnJpYWdlX3RpbWVsaW5lJG1vbnRoID0gc3RyaW5ncjo6c3RyX3N1Yihhcy5jaGFyYWN0ZXIobWFycmlhZ2VfdGltZWxpbmUkbW9udGgpLDEsNykKCnByZWduYW5jeSA9IHByZWduYW5jeSAlPiUgbGVmdF9qb2luKG1hcnJpYWdlX3RpbWVsaW5lLCBieSA9IGMoIm1vdGhlcl9waWRsaW5rIiwgIm1vbnRoIikpICU+JSB1bmdyb3VwKCkKYGBgCgoKIyMjIEJpcnRoIG9yZGVyIGNhbGN1bGF0aW9ucyB7LnRhYnNldH0KYGBge3IgVXRlcnVzIGJpcnRob3JkZXIgYW5kIG1hdGVybmFsIHNpYmxpbmcgY291bnR9CiMjIyMgTWF0ZXJuYWwgUHJlZ25hbmN5IE9yZGVyCnByZWduYW5jeTEgPSBwcmVnbmFuY3kgJT4lCiAgZ3JvdXBfYnkobW90aGVyX3BpZGxpbmspICU+JQogIG11dGF0ZShiaXJ0aG9yZGVyX3V0ZXJ1c19wcmVnID0gbWluX3JhbmsoYmlydGhkYXRlKSwKICAgICAgICAgIyBiaXJ0aG9yZGVyX3V0ZXJ1c19wcmVnID0gaWZlbHNlKGFueV9tdWx0aXBsZV9iaXJ0aCA9PSAxLCBOQSwgYmlydGhvcmRlcl91dGVydXNfcHJlZyksCiAgICAgICAgIHNpYmxpbmdfY291bnRfdXRlcnVzX3ByZWcgPSBzdW0oIWlzLm5hKGJpcnRoZGF0ZSkpCiAgICAgICAgICMgLHNpYmxpbmdfY291bnRfdXRlcnVzX3ByZWcgPSBpZmVsc2UoYW55X211bHRpcGxlX2JpcnRoID09IDEsIE5BLCBzaWJsaW5nX2NvdW50X3V0ZXJ1c19wcmVnKQogICAgICAgICApICU+JQogIHVuZ3JvdXAoKQoKIyMjIyBNYXRlcm5hbCBCaXJ0aCBPcmRlcgpwcmVnbmFuY3kyID0gcHJlZ25hbmN5ICU+JQogIGZpbHRlcihsaWZlYmlydGhzID09IDIpICU+JQogIGdyb3VwX2J5KG1vdGhlcl9waWRsaW5rKSAlPiUKICAgIG11dGF0ZShiaXJ0aG9yZGVyX3V0ZXJ1c19hbGl2ZSA9IG1pbl9yYW5rKGJpcnRoZGF0ZSksCiAgICAgICAgICAgIyBiaXJ0aG9yZGVyX3V0ZXJ1c19hbGl2ZSA9IGlmZWxzZShhbnlfbXVsdGlwbGVfYmlydGggPT0gMSwgTkEsIGJpcnRob3JkZXJfdXRlcnVzX2FsaXZlKSwKICAgICAgICAgICBzaWJsaW5nX2NvdW50X3V0ZXJ1c19hbGl2ZSA9IHN1bSghaXMubmEoYmlydGhkYXRlKSkKICAgICAgICAgICAjICxzaWJsaW5nX2NvdW50X3V0ZXJ1c19hbGl2ZSA9IGlmZWxzZShhbnlfbXVsdGlwbGVfYmlydGggPT0gMSwgTkEsIHNpYmxpbmdfY291bnRfdXRlcnVzX2FsaXZlKQogICAgICAgICAgICkgJT4lCiAgdW5ncm91cCgpCgpwcmVnbmFuY3kyID0gcHJlZ25hbmN5MiAlPiUgc2VsZWN0KG1vdGhlcl9iaXJ0aGRhdGUsIGJpcnRob3JkZXJfdXRlcnVzX2FsaXZlLCBzaWJsaW5nX2NvdW50X3V0ZXJ1c19hbGl2ZSkgJT4lIGRpc3RpbmN0KCkKCiMjIyMgUGFyZW50YWwgRnVsbCBTaWJsaW5nIEJpcnRob3JkZXIKcHJlZ25hbmN5MyA9IHByZWduYW5jeSAlPiUKICBmaWx0ZXIobGlmZWJpcnRocyA9PSAyKSAlPiUKICBncm91cF9ieShtYXJyaWFnZV9pZCkgJT4lCiAgICBtdXRhdGUoYmlydGhvcmRlcl9nZW5lcyA9IG1pbl9yYW5rKGJpcnRoZGF0ZSksCiAgICAgICAgICAgYmlydGhvcmRlcl9nZW5lcyA9IGlmZWxzZShpcy5uYShtYXJyaWFnZV9pZCksIE5BLCBiaXJ0aG9yZGVyX2dlbmVzKSwKICAgICAgICAgICBzaWJsaW5nX2NvdW50X2dlbmVzID0gaWZlbHNlKGlzLm5hKG1hcnJpYWdlX2lkKSwgTkEsIHN1bSghaXMubmEobWFycmlhZ2VfaWQpKSkpICU+JQogIHVuZ3JvdXAoKQoKcHJlZ25hbmN5MyA9IHByZWduYW5jeTMgJT4lIHNlbGVjdChtb3RoZXJfYmlydGhkYXRlLCBiaXJ0aG9yZGVyX2dlbmVzLCBzaWJsaW5nX2NvdW50X2dlbmVzKSAlPiUgZGlzdGluY3QoKQoKCiMjIyBDb21iaW5lIGJpcnRob3JkZXIgZGF0YQpwcmVnbmFuY3kgPSBsZWZ0X2pvaW4ocHJlZ25hbmN5MSwgcHJlZ25hbmN5MiwgYnk9Im1vdGhlcl9iaXJ0aGRhdGUiKSAlPiUgdW5ncm91cCgpCnByZWduYW5jeSA9IGxlZnRfam9pbihwcmVnbmFuY3ksIHByZWduYW5jeTMsIGJ5ID0gIm1vdGhlcl9iaXJ0aGRhdGUiKSAlPiUgdW5ncm91cCgpCmBgYAoKCiMjIyBCaXJ0aCBvcmRlciBncmFwaHMKYGBge3J9CiMjIyBHcmFwaHMKIyMgQmlvbG9naWNhbCBCaXJ0aG9yZGVyIC0gVXRlcnVzX1ByZWduYW5jaWVzCmdncGxvdChwcmVnbmFuY3ksIGFlcyh4PXNpYmxpbmdfY291bnRfdXRlcnVzX3ByZWcsIHk9YmlydGhvcmRlcl91dGVydXNfcHJlZykpICsgZ2VvbV9qaXR0ZXIoYWxwaGEgPSAwLjEpCgojIyBCaW9sb2dpY2FsIEJpcnRob3JkZXIgLSBVdGVydXNfQmlydGhzCmdncGxvdChwcmVnbmFuY3ksIGFlcyh4PXNpYmxpbmdfY291bnRfdXRlcnVzX2FsaXZlLCB5PWJpcnRob3JkZXJfdXRlcnVzX2FsaXZlKSkgKyBnZW9tX2ppdHRlcihhbHBoYSA9IDAuMSkKCiMjIEJpb2xvZ2ljYWwgQmlydGhvcmRlciAtIEZ1bGwgU2libGluZyBPcmRlcgpnZ3Bsb3QocHJlZ25hbmN5LCBhZXMoeD1zaWJsaW5nX2NvdW50X2dlbmVzLCB5PWJpcnRob3JkZXJfZ2VuZXMpKSArIGdlb21faml0dGVyKGFscGhhID0gMC4xKQoKIyMgQmlvOiBVdGVydXNfcHJlZyB2cy4gVXRlcnVzX0JpcnRocwpnZ3Bsb3QocHJlZ25hbmN5LCBhZXMoeD1iaXJ0aG9yZGVyX3V0ZXJ1c19wcmVnLCB5PWJpcnRob3JkZXJfdXRlcnVzX2FsaXZlKSkgKyBnZW9tX2ppdHRlcihhbHBoYSA9IDAuMSkKIyBUaGUgYmlydGhfb3JkZXJfYWxpdmUgaXMgYWx3YXlzIGxvd2VyLCB3aGljaCBtYWtlcyBzZW5zZSwgYmVjYXVzIG5vdCBsaXZlIGJpcnRocyAobWlzY2FycmlhZ2UsIHN0aWxsIGJpcnRocyBhcmUgZXhjbHVkZWQpCgojIyBCaW86IFV0ZXJ1c19wcmVnIHZzLiBHZW5lcwpnZ3Bsb3QocHJlZ25hbmN5LCBhZXMoeD1iaXJ0aG9yZGVyX3V0ZXJ1c19wcmVnLCB5PWJpcnRob3JkZXJfZ2VuZXMpKSArIGdlb21faml0dGVyKGFscGhhID0gMC4xKQojIFRoZSBiaXJ0aF9vcmRlcl9hbGl2ZSBpcyBhbHdheXMgbG93ZXIsIHdoaWNoIG1ha2VzIHNlbnNlLCBiZWNhdXMgbm90IGxpdmUgYmlydGhzIChtaXNjYXJyaWFnZSwgc3RpbGwgYmlydGhzIGFyZSBleGNsdWRlZCkKCiMjIEJpbzogVXRlcnVzX2FsaXZlIHZzLiBHZW5lcwpnZ3Bsb3QocHJlZ25hbmN5LCBhZXMoeD1iaXJ0aG9yZGVyX3V0ZXJ1c19hbGl2ZSwgeT1iaXJ0aG9yZGVyX2dlbmVzKSkgICsgZ2VvbV9qaXR0ZXIoYWxwaGEgPSAwLjEpCiMgVGhlIGJpcnRoX29yZGVyX2FsaXZlIGlzIGFsd2F5cyBsb3dlciwgd2hpY2ggbWFrZXMgc2Vuc2UsIGJlY2F1cyBub3QgbGl2ZSBiaXJ0aHMgKG1pc2NhcnJpYWdlLCBzdGlsbCBiaXJ0aHMgYXJlIGV4Y2x1ZGVkKQoKcHJlZ25hbmN5ICU+JSBzZWxlY3QoYmlydGhvcmRlcl91dGVydXNfYWxpdmUsIGJpcnRob3JkZXJfdXRlcnVzX3ByZWcsIGJpcnRob3JkZXJfZ2VuZXMpICU+JSBuYS5vbWl0KCkgJT4lIGNvcigpCnByZWduYW5jeSAlPiUgc2VsZWN0KGJpcnRob3JkZXJfdXRlcnVzX2FsaXZlLCBiaXJ0aG9yZGVyX3V0ZXJ1c19wcmVnLCBiaXJ0aG9yZGVyX2dlbmVzKSAlPiUgbWlzc2luZ25lc3NfcGF0dGVybnMoKQpwcmVnbmFuY3kgJT4lIHNlbGVjdChzaWJsaW5nX2NvdW50X3V0ZXJ1c19hbGl2ZSwgc2libGluZ19jb3VudF91dGVydXNfcHJlZywgc2libGluZ19jb3VudF9nZW5lcykgJT4lIG1pc3NpbmduZXNzX3BhdHRlcm5zKCkKYGBgCgojIyBTZWxlY3QgaW5kaXZpZHVhbCBkYXRhIGZyb20gSUZMUyA1CmBgYHtyIHNlbGVjdCBpbmRpdmlkdWFsIGRhdGF9CiMjIyBJbmRpdmlkdWFscwppbmRpdmlkdWFscyA9IGJrX2FyMSAlPiUgc2VsZWN0KGhoaWQxNF85LCBwaWRsaW5rLCBmYXRoZXJfcGlkbGluaywgbW90aGVyX3BpZGxpbmssIGFyMDFhLCBhcjAyYiwgYXIxMCwgYXIxMSwgYXIwNywgYXIwOGRheSwgYXIwOG10aCwgYXIwOHlyLCBhcjA5LCBhcjE4ZXlyLCBhcjE4ZW10aCkKI1JlbmFtZSB2YXJpYWJsZXMgdG8gbWFrZSBpdCBlYXNpZXIKaW5kaXZpZHVhbHMgPSByZW5hbWUoaW5kaXZpZHVhbHMsIHJlbGF0aW9uX3RvX0hIX2hlYWQgPSBhcjAyYiwgZmF0aGVySUQgPSBhcjEwLCBtb3RoZXJJRCA9IGFyMTEsIHNleCA9IGFyMDcsIGFnZSA9IGFyMDksIHN0YXR1cyA9IGFyMDFhLCBkZWF0aF95ciA9IGFyMThleXIsIGRlYXRoX21vbnRoID0gYXIxOGVtdGgpIAojIFJlbW92ZSBkdXBsaWNhdHMgKHNvbWUgcGVvcGxlIGFyZSBtZW50aW9uZWQgaW4gdHdvIGhvdXNlaG9sZHMsIGUuZy4gYmVjYXVzZSB0aGV5IG1vdmVkIGluIHRoZSBsYXN0IDEyIG1vbnRocykKaW5kaXZpZHVhbHMgPSBpbmRpdmlkdWFscyAlPiUgZGlzdGluY3QocGlkbGluaywgLmtlZXBfYWxsID0gVFJVRSkKaW5kaXZpZHVhbHNfdW5jaGFuZ2VkID0gaW5kaXZpZHVhbHMKCiMjIHBlb3BsZSB3aG9zZSBwYXJlbnRzIGNhbiBub3QgYmUgaWRlbnRpZmllZCBoYXZlIHRvIGJlIG1hcmtlZCBhcyBOQToKaW5kaXZpZHVhbHMkZmF0aGVySURbIGluZGl2aWR1YWxzJGZhdGhlcklEPjUwXSA9IE5BCmluZGl2aWR1YWxzJG1vdGhlcklEWyBpbmRpdmlkdWFscyRtb3RoZXJJRD41MF0gPSBOQQoKCiMjIENyZWF0ZSBkYXRlIG9mIGJpcnRoCiNTZXQgYWxsIHZhcmlhYmxlcyBtaXNzaW5nIHRoYXQgaGF2ZSBub3QgYmVlbiByZXBvcnRlZDoKaW5kaXZpZHVhbHMkYXIwOGRheVsgaW5kaXZpZHVhbHMkYXIwOGRheT4zMV0gPSBOQQppbmRpdmlkdWFscyRhcjA4bXRoWyBpbmRpdmlkdWFscyRhcjA4bXRoPjEyXSA9IE5BCmluZGl2aWR1YWxzJGFyMDh5clsgaW5kaXZpZHVhbHMkYXIwOHlyPjIwMTZdID0gTkEKaW5kaXZpZHVhbHMkYXIwOGRheVsgaXMubmFuKGluZGl2aWR1YWxzJGFyMDhkYXkpIF0gPSBOQQppbmRpdmlkdWFscyRhcjA4bXRoWyBpcy5uYW4oaW5kaXZpZHVhbHMkYXIwOG10aCkgXSA9IE5BCmluZGl2aWR1YWxzJGFyMDh5clsgaXMubmFuKGluZGl2aWR1YWxzJGFyMDh5cildID0gTkEKaW5kaXZpZHVhbHMkZGVhdGhfbW9udGhbIGluZGl2aWR1YWxzJGRlYXRoX21vbnRoPjEyXSA9IE5BCmluZGl2aWR1YWxzJGRlYXRoX3lyWyBpbmRpdmlkdWFscyRkZWF0aF95cj4yMDE2XSA9IE5BCmluZGl2aWR1YWxzJGRlYXRoX21vbnRoWyBpcy5uYW4oaW5kaXZpZHVhbHMkZGVhdGhfbW9udGgpIF0gPSBOQQppbmRpdmlkdWFscyRkZWF0aF95clsgaXMubmFuKGluZGl2aWR1YWxzJGRlYXRoX3lyKV0gPSBOQQoKIyMgQ3JlYXRlIHZhcmlhYmxlIHRoYXQgY29udGFpbnMgcGlkbGluayBvZiBtb3RoZXIgYW5kIGJpcnRoZGF0ZSBvZiBjaGlsZDoKaW5kaXZpZHVhbHMgPSBpbmRpdmlkdWFscyAlPiUKICAgIG11dGF0ZShiaXJ0aGRhdGUgPSBhbGxfYXZhaWxhYmxlX2luZm9fYmlydGhfZGF0ZShhcjA4eXIsIGFyMDhtdGgsIGFyMDhkYXkpLAogICAgICAgICAgIG1vdGhlcl9iaXJ0aGRhdGUgPSBzdHJfYyhtb3RoZXJfcGlkbGluaywgIi0iLCBiaXJ0aGRhdGUpKSAjIG1vdGhlcl9waWRsaW5rLVlZWVktTU07IGlzIE5BIGlmIGJpcnRoX3llYXIgaXMgbWlzc2luZwoKIyNSZW1vdmUgYWxsIHdpdGggbWlzc2luZyBtb3RoZXJfYmlydGhkYXRlCmluZGl2aWR1YWxzID0gaW5kaXZpZHVhbHMgJT4lCiAgZmlsdGVyKCFpcy5uYShtb3RoZXJfYmlydGhkYXRlKSkKCgojIyBDb21iaW5lIGluZm9ybWF0aW9uIGZyb20gcHJlZ25hbmN5IGhpc3RvcnkgYW5kIGluZGl2aWR1YWwgZmlsZXMKcHJlZ25hbmN5ID0gcHJlZ25hbmN5ICU+JQogIGdyb3VwX2J5KG1vdGhlcl9iaXJ0aGRhdGUpICU+JQogIG11dGF0ZSh0d2luX29yZGVyID0gcm93X251bWJlcihiaXJ0aGRhdGUpLAogICAgICAgICBtb3RoZXJfYmlydGhkYXRlX3VuaXF1ZSA9IHBhc3RlMChtb3RoZXJfYmlydGhkYXRlLCAiLSIsIHR3aW5fb3JkZXIpKSAlPiUKICB1bmdyb3VwKCkKCmluZGl2aWR1YWxzID0gaW5kaXZpZHVhbHMgJT4lCiAgZ3JvdXBfYnkobW90aGVyX2JpcnRoZGF0ZSkgJT4lCiAgbXV0YXRlKHR3aW5fb3JkZXIgPSByb3dfbnVtYmVyKGJpcnRoZGF0ZSksCiAgICAgICAgIG1vdGhlcl9iaXJ0aGRhdGVfdW5pcXVlID0gcGFzdGUwKG1vdGhlcl9iaXJ0aGRhdGUsICItIiwgdHdpbl9vcmRlcikpICU+JQogIHVuZ3JvdXAoKSAlPiUKICBzZWxlY3QobW90aGVyX2JpcnRoZGF0ZV91bmlxdWUsIHBpZGxpbmssIHNleCwgYWdlKQoKCnByZWduYW5jeV9taXNzaW5nID0gcHJlZ25hbmN5ICU+JQogIG11dGF0ZShtaXNzaW5nID0gaWZlbHNlKCEobW90aGVyX2JpcnRoZGF0ZV91bmlxdWUgJWluJSBpbmRpdmlkdWFscyRtb3RoZXJfYmlydGhkYXRlX3VuaXF1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgMSwgMCkpICU+JQogIGZpbHRlcihtaXNzaW5nID09IDEpCgojIHByZXZlbnQgdGhhdCB0d2lucyBleGlzdCA0IHRpbWVzIGJlY2F1c2UgdGhleSBhcHBlYXIgdHdpY2UgaW4gcHJlZ25hbmN5IGFuZCB0d2ljZSBpbiBpbmRpdmlkdWFscywgYnkgZWxpbWluYXRpbmcgZHVwZXMgZnJvbSBwcmVnbmFuY3kKcHJlZ25hbmN5X25vdF9taXNzaW5nID0gcHJlZ25hbmN5ICU+JQogIG11dGF0ZShtaXNzaW5nID0gaWZlbHNlKCEobW90aGVyX2JpcnRoZGF0ZV91bmlxdWUgJWluJSBpbmRpdmlkdWFscyRtb3RoZXJfYmlydGhkYXRlX3VuaXF1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgMSwgMCkpICU+JQogIGZpbHRlcihtaXNzaW5nID09IDApICAgICAgICAgIAoKYWxsZGF0YV9wcmVnbmFuY3kgPSBsZWZ0X2pvaW4ocHJlZ25hbmN5X25vdF9taXNzaW5nLCBpbmRpdmlkdWFscywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnkgPSAibW90aGVyX2JpcnRoZGF0ZV91bmlxdWUiKQoKYWxsZGF0YV9wcmVnbmFuY3kgPSBiaW5kX3Jvd3MoYWxsZGF0YV9wcmVnbmFuY3ksIHByZWduYW5jeV9taXNzaW5nKQoKcHJvcC50YWJsZSh0YWJsZShhbGxkYXRhX3ByZWduYW5jeSRtdWx0aXBsZV9iaXJ0aCkpCnByb3AudGFibGUodGFibGUoYWxsZGF0YV9wcmVnbmFuY3kkYW55X211bHRpcGxlX2JpcnRoKSkKYGBgCgoKIyMgSW50ZWxsaWdlbmNlIHsudGFic2V0fQpgYGB7ciBzZWxlY3QgSVEgZGF0YX0KIyMjIElRIEluZm9ybWF0aW9ucwojI2VrMiAoPjE0eXJzKQppcTIuMSA9IGVrX2VrMiAlPiUgc2VsZWN0KGhoaWQxNF85LCBwaWRsaW5rLCBhZ2UsIHNleCwgZWt0eXBlLCByZXNwdHlwZSwgcmVzdWx0LCByZWFzb24sIGVrMV9hbnMsIGVrMl9hbnMsIGVrM19hbnMsIGVrNF9hbnMsIGVrNV9hbnMsIGVrNl9hbnMsIGVrN19hbnMsIGVrOF9hbnMsIGVrOV9hbnMsIGVrMTBfYW5zLCBlazExX2FucywgZWsxMl9hbnMsIGVrMTNfYW5zLCBlazE0X2FucywgZWsxNV9hbnMsIGVrMTZfYW5zLCBlazE3X2FucywgZWsxOF9hbnMsIGVrMTlfYW5zLCBlazIwX2FucywgZWsyMV9hbnMsIGVrMjJfYW5zKQoKCiMjYWRkaXRpb25hbCBpbmZvcm1hdGlvbnMgZm9yIGFkdWx0czogY291bnRpbmcgYmFja3dhcmRzCmlxMi4yID0gYjNiX2NvMSAlPiUgc2VsZWN0KGhoaWQxNF85LCBwaWRsaW5rLCBjbzA0YSwgY28wNGIsIGNvMDRjLCBjbzA0ZCwgY28wNGUsIGNvMDdjb3VudCwgY28xMGNvdW50KQojI2FkZGl0aW9uYWwgaW5mb3JtYXRpb25zIGZvciBhZHVsdHM6IGFkYXB0aXZlIG51bWJlciB0ZXN0CmlxMi4zID0gYjNiX2NvYiAlPiUgc2VsZWN0KGhoaWQxNF85LCBwaWRsaW5rLCB3X2FiaWwsIGNvYjE4LCBjb2IxOWIpCgojIyBwdXQgYWxsIHRoZSBpbmZvcm1hdGlvbnMgZm9yIHBhcnRpY2lwYW50cyA+PSAxNSB0b2dldGhlcgppcTIgPSBmdWxsX2pvaW4oaXEyLjEsIGlxMi4yLCBieSA9ICJwaWRsaW5rIikKaXEyID0gZnVsbF9qb2luKGlxMiwgaXEyLjMsIGJ5ID0gInBpZGxpbmsiKQppcSA9IGlxMgppcSA8LSBwbHlyOjpyZW5hbWUoaXEsIGMoImFnZSI9IklRYWdlIikpIAoKIyMjIGNhbGN1bGF0ZSBpcSBzY29yZXMKIyNSYXZlbiBUZXN0CmFuc3dlcmVkX3JhdmVuX2l0ZW1zID0gaXEgJT4lIHNlbGVjdChlazFfYW5zOmVrNl9hbnMsIGVrMTFfYW5zLCBlazEyX2FucykKcHN5Y2g6OmFscGhhKGRhdGEuZnJhbWUoYW5zd2VyZWRfcmF2ZW5faXRlbXMpKQppcSRyYXZlbiA9IHJvd01lYW5zKCBhbnN3ZXJlZF9yYXZlbl9pdGVtcywgbmEucm0gPSBUKQppcSRyYXZlblshIGlxJHJlc3VsdCAlaW4lIDE6Ml0gPSBOQQpxcGxvdChpcSRyYXZlbikKCiMjTWF0aCBUZXN0CmFuc3dlcmVkX21hdGhfaXRlbXMgPSBpcSAlPiUgc2VsZWN0KGVrMThfYW5zOmVrMjJfYW5zKQpwc3ljaDo6YWxwaGEoZGF0YS5mcmFtZShhbnN3ZXJlZF9tYXRoX2l0ZW1zKSkKaXEkbWF0aCA9IHJvd01lYW5zKCBhbnN3ZXJlZF9tYXRoX2l0ZW1zLCBuYS5ybSA9IFQpCmlxJG1hdGhbISBpcSRyZXN1bHQgJWluJSAxOjJdID0gTkEKcXBsb3QoaXEkbWF0aCkKCiMjQ291bnRpbmcgSXRlbXMKIyBDcmVhdGUgUmlnaHQvV3JvbmcgU2NvcmVzIGZvciB0aGUgY291bnRpbmcgaXRlbXMKaXEkY28wNGFyaWdodCA9IGFzLm51bWVyaWMoaXEkY28wNGEgPT0gOTMpCmlxJGNvMDRicmlnaHQgPSBhcy5udW1lcmljKGlxJGNvMDRiID09IGlxJGNvMDRhLTcpCmlxJGNvMDRjcmlnaHQgPSBhcy5udW1lcmljKGlxJGNvMDRjID09IGlxJGNvMDRiLTcpCmlxJGNvMDRkcmlnaHQgPSBhcy5udW1lcmljKGlxJGNvMDRkID09IGlxJGNvMDRjLTcpCmlxJGNvMDRlcmlnaHQgPSBhcy5udW1lcmljKGlxJGNvMDRlID09IGlxJGNvMDRkLTcpCgphbnN3ZXJlZF9jb3VudGluZ19pdGVtcyA9IGlxICU+JSBzZWxlY3QoY28wNGFyaWdodDpjbzA0ZXJpZ2h0KQpwc3ljaDo6YWxwaGEoZGF0YS5mcmFtZShhbnN3ZXJlZF9jb3VudGluZ19pdGVtcykpCmlxJGNvdW50X2JhY2t3YXJkcyA9IHJvd1N1bXMoIGFuc3dlcmVkX2NvdW50aW5nX2l0ZW1zLCBuYS5ybSA9IFQpIC8gNQpxcGxvdChpcSRjb3VudF9iYWNrd2FyZHMpCgojIyBXb3JkIE1lbW9yeQppcSR3b3Jkc19pbW1lZGlhdGUgPSBpcSRjbzA3Y291bnQKaXEkd29yZHNfZGVsYXllZCA9IGlxJGNvMTBjb3VudApxcGxvdChpcSR3b3Jkc19pbW1lZGlhdGUsIGlxJHdvcmRzX2RlbGF5ZWQsIGdlb20gPSAiaml0dGVyIikKYW5zd2VyZWRfd29yZF9pdGVtcyA9IGlxICU+JSBzZWxlY3QoY28wN2NvdW50LGNvMTBjb3VudCkKcHN5Y2g6OmFscGhhKGRhdGEuZnJhbWUoYW5zd2VyZWRfd29yZF9pdGVtcykpCmlxJHdvcmRzX3JlbWVtYmVyZWRfYXZnID0gcm93TWVhbnMoIGFuc3dlcmVkX3dvcmRfaXRlbXMsIG5hLnJtID0gVCkKcXBsb3QoaXEkd29yZHNfcmVtZW1iZXJlZF9hdmcpCgojI0FkYXB0aXZlIE51bWJlcmluZwppcSRhZGFwdGl2ZV9udW1iZXJpbmcgPSBpcSR3X2FiaWwKcXBsb3QoaXEkYWRhcHRpdmVfbnVtYmVyaW5nKQoKIyMgQ29ycmVsYXRpb24gb2YgYWxsIElxLVRlc3RzCnJvdW5kKGNvcihpcSAlPiUgc2VsZWN0KHJhdmVuLCBtYXRoLCBjb3VudF9iYWNrd2FyZHMsIHdvcmRzX2ltbWVkaWF0ZSwgd29yZHNfZGVsYXllZCwgYWRhcHRpdmVfbnVtYmVyaW5nKSwgdXNlID0gInBhaXJ3aXNlLmNvbXBsZXRlLm9icyIpLCAyKQoKIyNNaXNzaW5nbmVzc19QYXR0ZXJucwpmb3Jtcjo6bWlzc2luZ25lc3NfcGF0dGVybnMoaXEgJT4lIHNlbGVjdChyYXZlbiwgbWF0aCwgY291bnRfYmFja3dhcmRzLCB3b3Jkc19pbW1lZGlhdGUsIHdvcmRzX2RlbGF5ZWQsIGFkYXB0aXZlX251bWJlcmluZykpCgojI2dfZmFjdG9yCiJnX2ZhY3RvciA9fiByYXZlbiArIG1hdGggKyBjb3VudF9iYWNrd2FyZHMgKyAgd29yZHNfZGVsYXllZCsgYWRhcHRpdmVfbnVtYmVyaW5nIiAlPiUKICBjZmEobWlzc2luZyA9ICJmaW1sIiwgZGF0YSA9IGlxLCBzdGQubHYgPSBULCBzdGQub3YgPSBUKSAtPiBjZmFfZwpzdW1tYXJ5KGNmYV9nKQoKaXEkZ19mYWN0b3IgPSBwcmVkaWN0KGNmYV9nKVssMV0KaXEgPSBpcSAlPiUKICBtdXRhdGUoZ19mYWN0b3IgPSBpZmVsc2UoaXMubmEocmF2ZW4pLCBOQSwgZ19mYWN0b3IpLAogICAgICAgICBnX2ZhY3RvciA9IGlmZWxzZShpcy5uYShtYXRoKSwgTkEsIGdfZmFjdG9yKSwKICAgICAgICAgZ19mYWN0b3IgPSBpZmVsc2UoaXMubmEoY291bnRfYmFja3dhcmRzKSwgTkEsIGdfZmFjdG9yKSwKICAgICAgICAgZ19mYWN0b3IgPSBpZmVsc2UoaXMubmEod29yZHNfaW1tZWRpYXRlKSwgTkEsIGdfZmFjdG9yKSwKICAgICAgICAgZ19mYWN0b3IgPSBpZmVsc2UoaXMubmEod29yZHNfZGVsYXllZCksIE5BLCBnX2ZhY3RvciksCiAgICAgICAgIGdfZmFjdG9yID0gaWZlbHNlKGlzLm5hKGFkYXB0aXZlX251bWJlcmluZyksIE5BLCBnX2ZhY3RvcikpCnFwbG90KGlxJGdfZmFjdG9yKQpgYGAKCgoKIyMgUGVyc29uYWxpdHkKYGBge3Igc2VsZWN0IHBlc29uYWxpdHkgZGF0YX0KIyMjIFBlcnNvbmFsaXR5CiMjUmVhcnJhbmdlIHBlcnNvbmFsaXR5IGRhdGEgc28gdGhhdCBldmVyeSBpbmRpdmlkdWFsIGhhcyBvbmx5IG9uZSByb3cKcGVycyA9IHNwcmVhZChiM2JfcHNuLCBwc250eXBlLCBwc24wMSkKIyNuYW1lIGNvbHVtbnMKY29sbmFtZXMocGVycykgPC0gYygiaGhpZDE0XzkiLCAicGlkMTQiLCAiaGhpZDE0IiwgInBpZGxpbmsiLCAidmVyc2lvbiIsICJtb2R1bGUiLCAiZTEiLCAiYzEiLCAibzEiLCAiZTJyIiwgIm4xciIsICJhMSIsICJuMnIiLCAibzIiLCAiYzJyIiwgIm8zIiwgImEyIiwgImMzIiwgImUzIiwgImEzciIsICJuMyIpCnBlcnMgPSBwZXJzICU+JSBzZWxlY3QoaGhpZDE0XzksIHBpZGxpbmssIGUxLCBjMSwgbzEsIGUyciwgbjFyLCBhMSwgbjJyLCBvMiwgYzJyLCBvMywgYTIsIGMzLCBlMywgYTNyLCBuMykKCiMjRXh0cmF2ZXJzaW9uCnBlcnMkZTJyX3JldmVyc2VkID0gNiAtIHBlcnMkZTJyCmV4dHJhdmVyc2lvbiA9IHBlcnMgJT4lIHNlbGVjdChlMSwgZTJyX3JldmVyc2VkLCBlMykKcHN5Y2g6OmFscGhhKGRhdGEuZnJhbWUoZXh0cmF2ZXJzaW9uKSwgY2hlY2sua2V5cyA9IFQpCnBlcnMkYmlnNV9leHQgPSByb3dNZWFucyhleHRyYXZlcnNpb24pCnFwbG90KHBlcnMkYmlnNV9leHQpCgojI2NvbnNjaWVudGlvdXNuZXNzCnBlcnMkYzJyX3JldmVyc2VkID0gNiAtIHBlcnMkYzJyCmNvbnNjaWVudGlvdXNuZXNzID0gcGVycyAlPiUgc2VsZWN0KGMxLCBjMnJfcmV2ZXJzZWQsIGMzKQpwc3ljaDo6YWxwaGEoZGF0YS5mcmFtZShjb25zY2llbnRpb3VzbmVzcyksIGNoZWNrLmtleXMgPSBUKQpwZXJzJGJpZzVfY29uID0gcm93TWVhbnMoY29uc2NpZW50aW91c25lc3MpCnFwbG90KHBlcnMkYmlnNV9jb24pCgojI09wZW5uZXNzCm9wZW5uZXNzID0gcGVycyAlPiUgc2VsZWN0KG8xLCBvMiwgbzMpCnBzeWNoOjphbHBoYShkYXRhLmZyYW1lKG9wZW5uZXNzKSwgY2hlY2sua2V5cyA9IFQpCnBlcnMkYmlnNV9vcGVuID0gcm93TWVhbnMob3Blbm5lc3MpCnFwbG90KHBlcnMkYmlnNV9vcGVuKQoKIyMgTmV1cm90aWNpc20KcGVycyRuMXJfcmV2ZXJzZWQgPSA2IC0gcGVycyRuMXIKcGVycyRuMnJfcmV2ZXJzZWQgPSA2IC0gcGVycyRuMnIKbmV1cm90aWNpc20gPSBwZXJzICU+JSBzZWxlY3QobjFyX3JldmVyc2VkLCBuMnJfcmV2ZXJzZWQsIG4zKQpwZXJzJGJpZzVfbmV1ID0gcm93TWVhbnMobmV1cm90aWNpc20pCnFwbG90KHBlcnMkYmlnNV9uZXUpCgojI0FncmVlYWJsZW5lc3MKcGVycyRhM3JfcmV2ZXJzZWQgPSA2LSBwZXJzJGEzcgphZ3JlZWFibGVuZXNzPSBwZXJzICU+JSBzZWxlY3QoYTEsIGEyLCBhM3JfcmV2ZXJzZWQpCnBlcnMkYmlnNV9hZ3JlZSA9IHJvd01lYW5zKGFncmVlYWJsZW5lc3MpCnFwbG90KHBlcnMkYmlnNV9hZ3JlZSkKYGBgCgoKIyMgUmlzayBwcmVmZXJlbmNlCmBgYHtyIHNlbGVjdCByaXNrIHRha2luZyBkYXRhfQojIyNSaXNrdGFraW5nCnJpc2sgPSBiM2Ffc2kgJT4lIHNlbGVjdChoaGlkMTRfOSwgcGlkbGluaywgcmFuZG9tX3NpLCBzaTAxLCBzaTAyLCBzaTAzLCBzaTA0LCBzaTA1LCBzaTExLCBzaTEyLCBzaTEzLCBzaTE0LCBzaTE1KQoKIyMgOCBtZWFucyB0aGV5IGRpZG50IGtub3cgd2hpY2ggYW5zd2VyIHRoZXkgd291bGQgY2hvb3NlCnJpc2skc2kwMVsgcmlzayRzaTAxID09IDhdID0gTkEKcmlzayRzaTAyWyByaXNrJHNpMDIgPT0gOF0gPSBOQQpyaXNrJHNpMDNbIHJpc2skc2kwMyA9PSA4XSA9IE5BCnJpc2skc2kwNFsgcmlzayRzaTA0ID09IDhdID0gTkEKcmlzayRzaTA1WyByaXNrJHNpMDUgPT0gOF0gPSBOQQpyaXNrJHNpMTFbIHJpc2skc2kxMSA9PSA4XSA9IE5BCnJpc2skc2kxMlsgcmlzayRzaTEyID09IDhdID0gTkEKcmlzayRzaTEzWyByaXNrJHNpMTMgPT0gOF0gPSBOQQpyaXNrJHNpMTRbIHJpc2skc2kxNCA9PSA4XSA9IE5BCnJpc2skc2kxNVsgcmlzayRzaTE1ID09IDhdID0gTkEKCiMjIGNhbGN1bGF0ZSBhIHJpc2sgc2NvcmUgZm9yIHJpc2sgZ2FtZSBBIAojICg1ID0gZ2FtYmxlIGF2ZXJzZSwgT3JkaW5hbHNrYWxhIDogMSA9IHJpc2sgbG92aW5nLCA0ID0gcmlzayBhdmVyc2UpCnJpc2skcmlza0EgPSBpZmVsc2UocmlzayRzaTAxID09IDEgJiByaXNrJHNpMDIgPT0gMSwgNSwKICAgICAgICAgICAgIGlmZWxzZShyaXNrJHNpMDEgPT0gMiAmIHJpc2skc2kwMyA9PSAxICYgcmlzayRzaTA0ID09IDEsIDQsCiAgICAgICAgICAgICBpZmVsc2UocmlzayRzaTAxID09IDIgJiByaXNrJHNpMDMgPT0gMSAmIHJpc2skc2kwNCA9PSAyLCAzLAogICAgICAgICAgICAgaWZlbHNlKHJpc2skc2kwMSA9PSAyICYgcmlzayRzaTAzID09IDIgJiByaXNrJHNpMDUgPT0gMSwgMiwKICAgICAgICAgICAgIGlmZWxzZShyaXNrJHNpMDEgPT0gMiAmIHJpc2skc2kwMyA9PSAyICYgcmlzayRzaTA1ID09IDIsIDEsCiAgICAgICAgICAgICBOQSkpKSkpCnFwbG90KHJpc2skcmlza0FbcmlzayRyaXNrQSAhPSA1XSkKCiMjIGNhbGN1bGF0ZSBhIHJpc2sgc2NvcmUgZm9yIHJpc2sgZ2FtZSBCIAojICg1ID0gZ2FtYmxlIGF2ZXJzZSwgT3JkaW5hbHNrYWxhIDogMSA9IHJpc2sgbG92aW5nLCA0ID0gcmlzayBhdmVyc2UpCnJpc2skcmlza0IgPSBpZmVsc2UocmlzayRzaTExID09IDIgJiByaXNrJHNpMTIgPT0gMSwgNSwKICAgICAgICAgICAgIGlmZWxzZShyaXNrJHNpMTEgPT0gMSAmIHJpc2skc2kxMyA9PSAxICYgcmlzayRzaTE0ID09IDEsIDQsCiAgICAgICAgICAgICBpZmVsc2UocmlzayRzaTExID09IDEgJiByaXNrJHNpMTMgPT0gMSAmIHJpc2skc2kxNCA9PSAyLCAzLAogICAgICAgICAgICAgaWZlbHNlKHJpc2skc2kxMSA9PSAxICYgcmlzayRzaTEzID09IDIgJiByaXNrJHNpMTUgPT0gMSwgMiwKICAgICAgICAgICAgIGlmZWxzZShyaXNrJHNpMTEgPT0gMSAmIHJpc2skc2kxMyA9PSAyICYgcmlzayRzaTE1ID09IDIsIDEsCiAgICAgICAgICAgICBOQSkpKSkpCnFwbG90KHJpc2skcmlza0JbcmlzayRyaXNrQiAhPTVdKQoKcHN5Y2g6OmFscGhhKGRhdGEuZnJhbWUocmlzayAlPiUgc2VsZWN0KHJpc2tBLCByaXNrQikpLCBjaGVjay5rZXlzID0gVCkKCgpgYGAKCgojIyBNZXJnZSBkYXRhCgpgYGB7ciBtZXJnZSBkYXRhfQojIyMgTWVyZ2UgYWxsIGRhdGEgZm9yIHBlb3BsZSB3aXRoIGJpcnRob3JkZXIgaW5mb3JtYXRpb25zCmFsbGRhdGFfYmlydGhvcmRlciA9IGxlZnRfam9pbihhbGxkYXRhX3ByZWduYW5jeSwgaXEsIGJ5ID0gInBpZGxpbmsiKQphbGxkYXRhX2JpcnRob3JkZXIgPSBsZWZ0X2pvaW4oYWxsZGF0YV9iaXJ0aG9yZGVyLCBwZXJzLCBieSA9ICJwaWRsaW5rIikKYWxsZGF0YV9iaXJ0aG9yZGVyID0gbGVmdF9qb2luKGFsbGRhdGFfYmlydGhvcmRlciwgcmlzaywgYnkgPSAicGlkbGluayIpCgphbGxkYXRhID0gbGVmdF9qb2luKGluZGl2aWR1YWxzX3VuY2hhbmdlZCwgaXEsIGJ5ID0gInBpZGxpbmsiKQphbGxkYXRhID0gbGVmdF9qb2luKGFsbGRhdGEsIHBlcnMsIGJ5ID0gInBpZGxpbmsiKQphbGxkYXRhID0gbGVmdF9qb2luKGFsbGRhdGEsIHJpc2ssIGJ5ID0gInBpZGxpbmsiKQoKCiMjIyBXaGljaCB2YWx1ZXMgYXJlIG1pc3Npbmc/CiMjIEFsbCBkYXRhCmZvcm1yOjptaXNzaW5nbmVzc19wYXR0ZXJucyhhbGxkYXRhX2JpcnRob3JkZXIgJT4lIHNlbGVjdChyYXZlbiwgbWF0aCwgY291bnRfYmFja3dhcmRzLCB3b3Jkc19pbW1lZGlhdGUsIHdvcmRzX2RlbGF5ZWQsIGFkYXB0aXZlX251bWJlcmluZywgYmlnNV9leHQsIHJpc2tBLCByaXNrQikpCiMjIEludGVsbGlnZW5jZQpmb3Jtcjo6bWlzc2luZ25lc3NfcGF0dGVybnMoYWxsZGF0YV9iaXJ0aG9yZGVyICU+JSBzZWxlY3QocmF2ZW4sIG1hdGgsIGNvdW50X2JhY2t3YXJkcywgd29yZHNfaW1tZWRpYXRlLCB3b3Jkc19kZWxheWVkLCBhZGFwdGl2ZV9udW1iZXJpbmcpKQojI1BlcnNvbmFsaXR5CmZvcm1yOjptaXNzaW5nbmVzc19wYXR0ZXJucyhhbGxkYXRhX2JpcnRob3JkZXIgJT4lIHNlbGVjdChiaWc1X2V4dCwgYmlnNV9jb24sIGJpZzVfb3BlbiwgYmlnNV9uZXUsIGJpZzVfYWdyZWUpKQojI1Jpc2sKZm9ybXI6Om1pc3NpbmduZXNzX3BhdHRlcm5zKGFsbGRhdGFfYmlydGhvcmRlciAlPiUgc2VsZWN0KHJpc2tBLCByaXNrQikpCmBgYAoKIyMgU2F2ZSBkYXRhCgpmb3IgZnV0dXJlIGFuYWx5c2VzCgpgYGB7ciBzYXZlIGRhdGF9CmFsbGRhdGFfYmlydGhvcmRlciA9IGFsbGRhdGFfYmlydGhvcmRlciAlPiUgdW5ncm91cCgpCmFsbGRhdGEgPSBhbGxkYXRhICU+JSB1bmdyb3VwKCkKcHJlZ25hbmN5ID0gcHJlZ25hbmN5ICU+JSB1bmdyb3VwKCkKCnNhdmVSRFMoYWxsZGF0YV9iaXJ0aG9yZGVyLCBmaWxlID0gImRhdGEvYWxsZGF0YV9iaXJ0aG9yZGVyLnJkcyIpCnNhdmVSRFMoYWxsZGF0YSwgZmlsZSA9ICJkYXRhL2FsbGRhdGEucmRzIikKc2F2ZVJEUyhwcmVnbmFuY3ksIGZpbGUgPSAiZGF0YS9wcmVnbmFuY3kucmRzIikKYGBgCg==</div>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
